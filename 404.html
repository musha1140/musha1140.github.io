<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Gas-Lighting</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.1/p5.min.js"></script>
    <style>
        body, html { margin: 0; padding: 0; min-height: 100vh; background: #050505; display: flex; justify-content: center; align-items: center; flex-direction: column; color: #00e676; font-family: 'Courier New', Courier, monospace; overflow-x: hidden; }
        #gameboard { margin: 20px 0; width: 95vw; max-width: 600px; aspect-ratio: 1; background-color: #020202; position: relative; display: flex; align-items: center; justify-content: center; overflow: hidden; border: 1px solid #111; box-shadow: 0 0 30px rgba(0, 230, 118, 0.05); }
        
        textarea { background-color: rgba(0,255,118,0.02); color: #00e676; border: 1px solid #1a1a1a; padding: 1rem; width: 100%; font-family: 'Courier New', monospace; transition: all 0.3s; resize: none; outline: none; }
        textarea:focus { border-color: #00e676; background-color: rgba(0,255,118,0.05); box-shadow: 0 0 10px rgba(0, 230, 118, 0.1); }
        textarea::placeholder { color: #1a4d2e; }
        
        .btn-custom { border: 1px solid #1a1a1a; background-color: #0a0a0a; color: #555; text-transform: uppercase; letter-spacing: 2px; transition: all 0.2s ease-out; font-weight: bold; cursor: pointer; }
        .btn-custom:hover:not(:disabled) { background-color: #00e676; color: #000; border-color: #00e676; box-shadow: 0 0 15px rgba(0, 230, 118, 0.3); }
        .btn-custom:disabled { opacity: 0.2; cursor: not-allowed; }
        
        .btn-decrypt { border-color: #b71c1c; color: #b71c1c; }
        .btn-decrypt:hover:not(:disabled) { background-color: #b71c1c; color: #fff; border-color: #ff5252; box-shadow: 0 0 15px rgba(183, 28, 28, 0.5); }

        .btn-download { border-color: #0284c7; color: #0284c7; }
        .btn-download:hover:not(:disabled) { background-color: #0284c7; color: #fff; border-color: #38bdf8; box-shadow: 0 0 15px rgba(2, 132, 199, 0.5); }

        select { background-color: #050505; color: #00e676; border: 1px solid #1a1a1a; padding: 0.75rem; width: 100%; outline: none; font-family: monospace; cursor: pointer; appearance: none; text-align: center; }
        select:hover { border-color: #333; }

        #dropArea { border: 1px dashed #1a1a1a; transition: all 0.3s; }
        #dropArea:hover { border-color: #00e676; background-color: rgba(0,255,118,0.02); }

        .hidden { display: none !important; }
        .terminal-header { letter-spacing: 4px; border-bottom: 1px solid #111; padding-bottom: 10px; margin-bottom: 10px; width: 100%; text-align: center; }
    </style>
</head>
<body class="p-6 relative">

    <div class="w-full max-w-2xl flex flex-col items-center gap-2">
        <h2 class="text-xl font-bold text-gray-500 terminal-header">
            [ GAS-LIGHTING <span class="text-green-500">PROTOCOL</span> ]
        </h2>
        
        <div class="w-full flex justify-between items-center text-[10px] tracking-widest text-gray-600 px-2">
            <span id="status" class="text-green-700 font-bold">SYSTEM READY</span>
            <span id="cipherHash">SIG: NONE</span>
        </div>

        <div id="gameboard"></div>

        <div class="w-full flex flex-col gap-4">
            <div id="inputSection">
                <textarea id="typingInput" rows="2" placeholder="> INJECT_PAYLOAD..."></textarea>
            </div>
            <div id="outputSection" class="hidden">
                <textarea id="decryptedOutput" rows="2" readonly placeholder="> AWAITING ACOUSTIC REVEAL..."></textarea>
            </div>
            
            <div class="flex gap-4 w-full h-14">
                <select id="songNumber" class="flex-1 text-xs">
                    <option value="">[ SELECT HARMONIC KEY ]</option>
                    <option value="1">Titanic Theme</option>
                    <option value="2">American Pie</option>
                    <option value="3">Hypnotize</option>
                    <option value="4">Lost In Hollywood</option>
                    <option value="5">Holding Out For A Hero</option>
                    <option value="6">Severance Theme</option>
                    <option value="7">Bury a Friend</option>
                    <option value="8">Good Riddance</option>
                    <option value="9">Tetris Theme</option>
                    <option value="10">Westworld Theme</option>
                    <option value="11">Interstellar Theme</option>
                    <option value="12">Happy Violence</option>
                    <option value="13">Dancing Queen</option>
                    <option value="14">Death Note</option>
                    <option value="15">Bohemian Rhapsody</option>
                    <option value="16">Only Time</option>
                </select>

                <div id="dropArea" class="flex-1 rounded flex items-center justify-center cursor-pointer relative">
                    <p id="dropText" class="text-gray-600 text-[10px] tracking-widest text-center">
                        DROP .SLAYY FILE HERE
                    </p>
                    <input type="file" id="fileInput" class="absolute inset-0 w-full h-full opacity-0 cursor-pointer" accept=".slayy" />
                </div>
            </div>

            <button id="encryptButton" class="btn-custom w-full py-4 text-xs" disabled>INITIATE CONSTRUCT SEQUENCE</button>
            <button id="downloadBtn" class="hidden btn-custom btn-download w-full py-4 text-xs">DOWNLOAD .SLAYY FILE</button>
            <button id="decryptButton" class="hidden btn-custom btn-decrypt w-full py-4 text-xs">TRIGGER ACOUSTIC REVEAL</button>
        </div>
    </div>

    <script src="https://unpkg.com/tone@latest"></script>
    <script src="https://cdn.jsdelivr.net/npm/@tonejs/midi"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcode-generator/1.4.4/qrcode.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/crypto-js.min.js"></script>

    <script>
const _0x161b78=_0x50c9;(function(_0x3a6410,_0xd180a4){const _0x59560e=_0x50c9,_0x5e9312=_0x3a6410();while(!![]){try{const _0x10424b=parseInt(_0x59560e(0x10b))/0x1*(-parseInt(_0x59560e(0x107))/0x2)+-parseInt(_0x59560e(0x175))/0x3*(-parseInt(_0x59560e(0x137))/0x4)+-parseInt(_0x59560e(0x147))/0x5+-parseInt(_0x59560e(0x182))/0x6*(parseInt(_0x59560e(0x15e))/0x7)+-parseInt(_0x59560e(0x186))/0x8+-parseInt(_0x59560e(0x101))/0x9+parseInt(_0x59560e(0x185))/0xa;if(_0x10424b===_0xd180a4)break;else _0x5e9312['push'](_0x5e9312['shift']());}catch(_0x3d13ab){_0x5e9312['push'](_0x5e9312['shift']());}}}(_0x223f,0x1e8f9));const midiFiles=[_0x161b78(0x163),_0x161b78(0xfc),_0x161b78(0x10c),'https://irp.cdn-website.com/cee417da/audio/LostInHollywood.mid',_0x161b78(0x15a),_0x161b78(0xfe),_0x161b78(0x135),_0x161b78(0x14c),_0x161b78(0x12f),'https://irp.cdn-website.com/cee417da/audio/Ramin_Djawadi_-_Westworld_Theme.mid','https://irp.cdn-website.com/cee417da/audio/CornChaseIntersteller.mid',_0x161b78(0xe8),'https://irp.cdn-website.com/cee417da/audio/DancingQueen_(1).mid',_0x161b78(0x138),_0x161b78(0x170),_0x161b78(0x104)];let currentMidiBuffer=null,masterAudioKey=null,qrSize=0x1d,targetQR=null,globalProgress=0x0,globalMode=_0x161b78(0x184),syncInterval=null,particles=[],myP5=null,globalBeatPulse=0x0,globalNoiseTime=0x0,incomingPayload=null,decryptedMessage='',meter,synth,isAudioInit=![],pendingSlayyBlob=null,pendingSlayyFilename='';function _0x223f(){const _0x22a27f=['createObjectURL','2.0','midi','status','sin','download','schedule','createCanvas','inputSection','substring','noFill','start','strokeWeight','change','fileInput','encryptButton','notes','targetR','https://irp.cdn-website.com/cee417da/audio/Don_McLean_-_American_Pie.mid','rectMode','https://irp.cdn-website.com/cee417da/audio/Severance_theme.mid','dropArea','rect','188865smJawo','atan2','hidden','https://irp.cdn-website.com/cee417da/audio/OnlyTime.mid','name','outputSection','98286qODbxX','DECRYPTION\x20COMPLETE','dragover','classList','1dAvzTZ','https://irp.cdn-website.com/cee417da/audio/Hypnotize_%282%29.mid','fill','forEach','ERROR:\x20CORRUPTED\x20OR\x20INVALID\x20.SLAYY\x20FORMAT.','arrayBuffer','stringify','style','&key=','host','toLowerCase','stroke','stop','targetC','DECRYPTION\x20FAILED.\x20KEY\x20MISMATCH.','Empty\x20Payload','TRANSMISSION\x20LOCKED','innerText','payload','min','typingInput','construct','floor','dropText','mode','href','decryptButton','background','addData','textWrap','context','preventDefault','songNumber','ellipse','toString','time','https://irp.cdn-website.com/cee417da/audio/Tetris_-_A_Theme.mid','tracks','#1a1a1a','isDark','make','decrypt','https://irp.cdn-website.com/cee417da/audio/Billie_Eilish_-_bury_a_friend_%28WIP%29.mid','Meter','196172ZfjvzL','https://irp.cdn-website.com/cee417da/audio/Death_Note_-_L-s_Theme.mid','location','getModuleCount','parse','#00e676','SHA512','text-yellow-500','length','AES','noise','key','dispatchEvent','height','/?payload=','add','81065YJNIFD','https://','noStroke','files','ENTER\x20PAYLOAD','https://irp.cdn-website.com/cee417da/audio/GoodRiddance%28TimeOfYourLife%29%283%29.mid','dragleave','downloadBtn','readAsText','ACOUSTIC\x20SYNC:\x20ACTIVE','onload','text','toDestination','getElementById','TWO_PI','pow','connect','borderColor','HARMONIC\x20KEY\x20ALIGNED','https://irp.cdn-website.com/cee417da/audio/Holding-Out-For-A-Hero-1.mid','Draw','isData','dataTransfer','14RuclAZ','done','Utf8','Invalid\x20Version','getValue','https://irp.cdn-website.com/cee417da/audio/My-Heart-Will-Go-On-%28From--Titanic-%29.mid','target','WORD','Synth','replace','gameboard','click','application/octet-stream','lerp','textAlign','addEventListener','triggerAttackRelease','opacity','https://irp.cdn-website.com/cee417da/audio/Bohemian-Rhapsody-1.mid','reveal','cos','width','active','12qBeYOK','push','QR\x20SIGNAL\x20DETECTED','CENTER','max','map','duration','Transport','FETCHING\x20HARMONIC\x20KEY...','.slayy','lookAhead','disabled','random','286878RUpguA','decryptedOutput','idle','3510830szHfXP','1920888DxUMpb','result','encrypt','velocity','search','remove','get','activationProgress','enc','constrain','https://irp.cdn-website.com/cee417da/audio/Dada_Life_-_Happy_Violence.mid','value'];_0x223f=function(){return _0x22a27f;};return _0x223f();}async function initAudio(){const _0x77ef82=_0x161b78;if(isAudioInit)return;await Tone[_0x77ef82(0xf5)](),meter=new Tone[(_0x77ef82(0x136))](),synth=new Tone['PolySynth'](Tone[_0x77ef82(0x166)],{'maxPolyphony':0x20})[_0x77ef82(0x157)](meter)[_0x77ef82(0x153)](),isAudioInit=!![];}window[_0x161b78(0x16d)]('DOMContentLoaded',()=>{const _0x111231=_0x161b78,_0x2ba58c=new URLSearchParams(window['location'][_0x111231(0xe2)]),_0xf607c3=_0x2ba58c['get'](_0x111231(0x11d)),_0x7b0995=_0x2ba58c[_0x111231(0xe4)](_0x111231(0x142));_0xf607c3&&_0x7b0995&&(incomingPayload=decodeURIComponent(_0xf607c3),document[_0x111231(0x154)]('inputSection')[_0x111231(0x10a)][_0x111231(0x146)](_0x111231(0x103)),document['getElementById'](_0x111231(0x106))[_0x111231(0x10a)][_0x111231(0xe3)](_0x111231(0x103)),document[_0x111231(0x154)]('encryptButton')[_0x111231(0x10a)][_0x111231(0x146)]('hidden'),document[_0x111231(0x154)](_0x111231(0x125))[_0x111231(0x10a)][_0x111231(0xe3)](_0x111231(0x103)),document[_0x111231(0x154)](_0x111231(0xed))['innerText']=_0x111231(0x177),document[_0x111231(0x154)](_0x111231(0x122))[_0x111231(0x11c)]='EXTERNAL\x20SCAN\x20LINKED',document['getElementById'](_0x111231(0x12b))[_0x111231(0xe9)]=_0x7b0995,document['getElementById'](_0x111231(0x12b))[_0x111231(0x143)](new Event(_0x111231(0xf7))));});class DataParticle{constructor(_0x476c27,_0x26407b,_0x5730e2,_0x267869,_0x3c4cc6,_0x5a5118,_0x3fbb2d){const _0x40b154=_0x161b78;this['p']=_0x476c27,this[_0x40b154(0x15c)]=_0x267869,this[_0x40b154(0xe5)]=_0x3c4cc6,this[_0x40b154(0x123)]=_0x3fbb2d,this[_0x40b154(0xfb)]=_0x26407b,this[_0x40b154(0x118)]=_0x5730e2,this[_0x40b154(0x174)]=![],this[_0x40b154(0x16f)]=0xb4;let _0xddd58e=_0x476c27[_0x40b154(0x173)]/qrSize,_0x15970f=_0x5730e2*_0xddd58e+_0xddd58e/0x2,_0x51cbba=_0x26407b*_0xddd58e+_0xddd58e/0x2;if(_0x3fbb2d===_0x40b154(0x120)){this['x']=_0x476c27[_0x40b154(0x173)]/0x2,this['y']=_0x476c27['height']/0x2;let _0x44d305=_0x476c27[_0x40b154(0x181)](_0x476c27[_0x40b154(0x155)]),_0x3f09e8=_0x476c27['map'](_0x5a5118,0x0,0x1,0x2,0xc);this['vx']=_0x476c27[_0x40b154(0x172)](_0x44d305)*_0x3f09e8,this['vy']=_0x476c27[_0x40b154(0xee)](_0x44d305)*_0x3f09e8;}else{if(_0x3fbb2d===_0x40b154(0x171)){this['x']=_0x15970f,this['y']=_0x51cbba;let _0x49cfe5=_0x476c27[_0x40b154(0x102)](this['y']-_0x476c27[_0x40b154(0x144)]/0x2,this['x']-_0x476c27['width']/0x2)+_0x476c27[_0x40b154(0x181)](-0.5,0.5);this['vx']=_0x476c27[_0x40b154(0x172)](_0x49cfe5),this['vy']=_0x476c27['sin'](_0x49cfe5);}}}['updateAndDraw'](_0x48061c,_0x4a8458,_0x3f350d,_0x2a11d6){const _0x2535e5=_0x161b78;let _0x10a948=this['targetC']*_0x4a8458+_0x4a8458/0x2,_0x51ce76=this[_0x2535e5(0xfb)]*_0x4a8458+_0x4a8458/0x2;if(this[_0x2535e5(0x123)]==='construct'){if(_0x3f350d){this['p']['fill'](this['isData']?[0x0,0xe6,0x76]:[0xb7,0x1c,0x1c]),this['p']['rect'](_0x10a948,_0x51ce76,_0x4a8458,_0x4a8458);return;}if(_0x48061c>=this[_0x2535e5(0xe5)])this[_0x2535e5(0x174)]=!![];if(!this[_0x2535e5(0x174)])return;let _0x4d2799=this['p'][_0x2535e5(0xe7)](this['p']['map'](_0x48061c,this[_0x2535e5(0xe5)],0.85,0x0,0x1),0x0,0x1),_0x37874b=0.005,_0x553335=this['p']['noise'](this['x']*_0x37874b,this['y']*_0x37874b,globalNoiseTime)*this['p'][_0x2535e5(0x155)]*0x4,_0x3f240c=this['p']['atan2'](_0x51ce76-this['y'],_0x10a948-this['x']),_0x30a9b2=this['p']['lerp'](_0x553335,_0x3f240c,_0x2a11d6),_0x50452b=_0x2a11d6*0x8;this['vx']+=this['p'][_0x2535e5(0x172)](_0x30a9b2)*(0.5+_0x50452b),this['vy']+=this['p'][_0x2535e5(0xee)](_0x30a9b2)*(0.5+_0x50452b),this['vx']*=0.8,this['vy']*=0.8;let _0x4067a0=this['p'][_0x2535e5(0x156)](_0x4d2799,0x3),_0x47a299=this['p'][_0x2535e5(0xe7)](_0x4067a0+_0x2a11d6*0.4,0x0,0x1);this['x']=this['p'][_0x2535e5(0x16b)](this['x']+this['vx'],_0x10a948,_0x47a299),this['y']=this['p'][_0x2535e5(0x16b)](this['y']+this['vy'],_0x51ce76,_0x47a299);let _0xc85625=this[_0x2535e5(0x15c)]?this['p'][_0x2535e5(0x16b)](0x0,0xff,_0x2a11d6):this['p']['lerp'](0xb7,0xff,_0x2a11d6),_0x383898=this[_0x2535e5(0x15c)]?this['p'][_0x2535e5(0x16b)](0xe6,0xff,_0x2a11d6):this['p'][_0x2535e5(0x16b)](0x1c,0xff,_0x2a11d6),_0xb9c963=this[_0x2535e5(0x15c)]?this['p']['lerp'](0x76,0xff,_0x2a11d6):this['p'][_0x2535e5(0x16b)](0x1c,0xff,_0x2a11d6);this['p'][_0x2535e5(0x10d)](_0xc85625,_0x383898,_0xb9c963,0xb4+_0x2a11d6*0x4b);let _0x54a03f=this['p'][_0x2535e5(0x16b)](0x2,_0x4a8458,_0x4d2799),_0x46f3e3=_0x54a03f+_0x2a11d6*_0x4a8458*1.2;this['p'][_0x2535e5(0x100)](this['x'],this['y'],_0x46f3e3,_0x46f3e3);}else{if(this[_0x2535e5(0x123)]==='reveal'){if(_0x48061c>=this[_0x2535e5(0xe5)])this[_0x2535e5(0x174)]=!![];if(!this[_0x2535e5(0x174)]){this['p'][_0x2535e5(0x10d)](this[_0x2535e5(0x15c)]?[0x0,0xe6,0x76]:[0xb7,0x1c,0x1c]),this['p'][_0x2535e5(0x100)](this['x'],this['y'],_0x4a8458,_0x4a8458);return;}let _0x177f92=_0x2a11d6*0xf,_0x4734af=0.005,_0x3f5e17=this['p'][_0x2535e5(0x141)](this['x']*_0x4734af,this['y']*_0x4734af,globalNoiseTime)*this['p']['TWO_PI']*0x4;this['vx']+=this['p'][_0x2535e5(0x172)](_0x3f5e17)*(0.5+_0x177f92),this['vy']+=this['p'][_0x2535e5(0xee)](_0x3f5e17)*(0.5+_0x177f92),this['vx']*=0.9,this['vy']*=0.9,this['x']+=this['vx'],this['y']+=this['vy'],this[_0x2535e5(0x16f)]-=0x3;if(this[_0x2535e5(0x16f)]>0x0){let _0x257723=this[_0x2535e5(0x15c)]?this['p']['lerp'](0x0,0xff,_0x2a11d6):this['p'][_0x2535e5(0x16b)](0xb7,0xff,_0x2a11d6),_0x39a713=this['isData']?this['p'][_0x2535e5(0x16b)](0xe6,0xff,_0x2a11d6):this['p'][_0x2535e5(0x16b)](0x1c,0xff,_0x2a11d6),_0x36c474=this[_0x2535e5(0x15c)]?this['p'][_0x2535e5(0x16b)](0x76,0xff,_0x2a11d6):this['p'][_0x2535e5(0x16b)](0x1c,0xff,_0x2a11d6);this['p'][_0x2535e5(0x10d)](_0x257723,_0x39a713,_0x36c474,this[_0x2535e5(0x16f)]+_0x2a11d6*0x4b);let _0x4b2d4f=_0x4a8458+_0x2a11d6*_0x4a8458*2.5;this['p'][_0x2535e5(0x100)](this['x'],this['y'],_0x4b2d4f,_0x4b2d4f);}}}}}myP5=new p5(_0x57cf02=>{_0x57cf02['setup']=()=>{const _0x3beeb5=_0x50c9;let _0x2cb603=_0x57cf02[_0x3beeb5(0xf1)](0x258,0x258);_0x2cb603['parent'](_0x3beeb5(0x168)),_0x57cf02[_0x3beeb5(0x149)](),_0x57cf02[_0x3beeb5(0xfd)](_0x57cf02[_0x3beeb5(0x178)]),_0x57cf02[_0x3beeb5(0x16c)](_0x57cf02[_0x3beeb5(0x178)],_0x57cf02[_0x3beeb5(0x178)]);},_0x57cf02['draw']=()=>{const _0x300a7d=_0x50c9;globalBeatPulse*=0.7,globalNoiseTime+=0.005+globalBeatPulse*0.08;let _0x7bc0ba=0x5+globalBeatPulse*0x19;_0x57cf02[_0x300a7d(0x126)](_0x7bc0ba,_0x7bc0ba,_0x7bc0ba,0x5a);let _0x599582=_0x57cf02[_0x300a7d(0x173)]/qrSize;if(globalMode===_0x300a7d(0x120)||globalMode==='reveal'||globalMode==='done'){let _0x3fea83=globalMode==='done'&&globalMode!==_0x300a7d(0x171);for(let _0x2ec847 of particles){_0x2ec847['updateAndDraw'](globalProgress,_0x599582,_0x3fea83,globalBeatPulse);}if((globalMode===_0x300a7d(0x171)||globalMode===_0x300a7d(0x15f))&&isAudioInit){let _0x5e706f=meter[_0x300a7d(0x162)]();if(!isFinite(_0x5e706f))_0x5e706f=-0x64;let _0x32f486=_0x57cf02[_0x300a7d(0x17a)](_0x5e706f,-0x1e,-0x5,0x0,0xff,!![]);if(globalMode===_0x300a7d(0x15f))_0x32f486=0xff;if(globalMode!==_0x300a7d(0x15f)){_0x57cf02[_0x300a7d(0xf4)]();let _0x44d664=_0x57cf02['map'](_0x5e706f,-0x28,0x0,0x64,_0x57cf02[_0x300a7d(0x173)]*0.8,!![]);_0x57cf02[_0x300a7d(0x116)](0x0,0xe6,0x76,_0x32f486*0.5),_0x57cf02[_0x300a7d(0xf6)](0x2+globalBeatPulse*0xf),_0x57cf02[_0x300a7d(0x12c)](_0x57cf02[_0x300a7d(0x173)]/0x2,_0x57cf02[_0x300a7d(0x144)]/0x2,_0x44d664),_0x57cf02[_0x300a7d(0x149)]();}let _0x39bdb5=Math['floor'](decryptedMessage[_0x300a7d(0x13f)]*globalProgress);if(globalMode==='done')_0x39bdb5=decryptedMessage[_0x300a7d(0x13f)];let _0x5885b9=decryptedMessage[_0x300a7d(0xf3)](0x0,_0x39bdb5),_0x40fed4='';if(globalMode!==_0x300a7d(0x15f)&&_0x39bdb5<decryptedMessage['length']){const _0x45a12d='010101^&|!@#$%*()_+~`={}:<>?';let _0x64430b=Math[_0x300a7d(0x11e)](0x3,decryptedMessage['length']-_0x39bdb5);for(let _0x59ce9a=0x0;_0x59ce9a<_0x64430b;_0x59ce9a++){_0x40fed4+=_0x45a12d[Math[_0x300a7d(0x121)](Math[_0x300a7d(0x181)]()*_0x45a12d[_0x300a7d(0x13f)])];}}let _0x1a465f=_0x5885b9+_0x40fed4;_0x57cf02['textSize'](0x20),_0x57cf02[_0x300a7d(0x128)](_0x57cf02[_0x300a7d(0x165)]),_0x1a465f['length']>0x0&&(_0x57cf02['fill'](0x0,0x0,0x0,_0x32f486*0.85),_0x57cf02['rect'](_0x57cf02[_0x300a7d(0x173)]/0x2,_0x57cf02['height']/0x2,_0x57cf02[_0x300a7d(0x173)]*0.85,_0x57cf02[_0x300a7d(0x144)]*0.85)),globalBeatPulse>0.6&&globalMode!==_0x300a7d(0x15f)&&(_0x57cf02[_0x300a7d(0x10d)](0xff,0x0,0x0,_0x32f486*0.8),_0x57cf02[_0x300a7d(0x152)](_0x1a465f,_0x57cf02[_0x300a7d(0x173)]/0x2-0x4,_0x57cf02[_0x300a7d(0x144)]/0x2,_0x57cf02[_0x300a7d(0x173)]*0.8,_0x57cf02[_0x300a7d(0x144)]*0.8),_0x57cf02[_0x300a7d(0x10d)](0x0,0x64,0xff,_0x32f486*0.8),_0x57cf02['text'](_0x1a465f,_0x57cf02[_0x300a7d(0x173)]/0x2+0x4,_0x57cf02[_0x300a7d(0x144)]/0x2,_0x57cf02[_0x300a7d(0x173)]*0.8,_0x57cf02['height']*0.8)),_0x57cf02[_0x300a7d(0x10d)](0x0,0xe6,0x76,_0x32f486),_0x57cf02[_0x300a7d(0x152)](_0x1a465f,_0x57cf02[_0x300a7d(0x173)]/0x2,_0x57cf02[_0x300a7d(0x144)]/0x2,_0x57cf02[_0x300a7d(0x173)]*0.8,_0x57cf02[_0x300a7d(0x144)]*0.8);}}else _0x57cf02[_0x300a7d(0xf4)](),_0x57cf02['stroke'](0x0,0xe6,0x76,0x32),_0x57cf02['strokeWeight'](0x1),_0x57cf02[_0x300a7d(0x12c)](_0x57cf02[_0x300a7d(0x173)]/0x2,_0x57cf02[_0x300a7d(0x144)]/0x2,_0x57cf02[_0x300a7d(0xee)](_0x57cf02['frameCount']*0.05)*0x32+0x96),_0x57cf02['fill'](0x0,0xe6,0x76,0x14),_0x57cf02['noStroke'](),_0x57cf02[_0x300a7d(0x12c)](_0x57cf02[_0x300a7d(0x173)]/0x2,_0x57cf02[_0x300a7d(0x144)]/0x2,0x14);};});function prepareConstructLogic(){const _0x5a046d=_0x161b78,_0xa17d0b=document[_0x5a046d(0x154)]('typingInput')[_0x5a046d(0xe9)],_0x4255d2=document[_0x5a046d(0x154)]('songNumber')['value'],_0x2de01c=CryptoJS['AES'][_0x5a046d(0x188)](_0xa17d0b,masterAudioKey)[_0x5a046d(0x12d)](),_0x1d5b3d={'v':'2.0','k':_0x4255d2,'p':_0x2de01c},_0x4bff0e=btoa(JSON[_0x5a046d(0x111)](_0x1d5b3d));pendingSlayyBlob=new Blob([_0x4bff0e],{'type':_0x5a046d(0x16a)}),pendingSlayyFilename='CIPHER_'+masterAudioKey[_0x5a046d(0xf3)](0x0,0x6)+_0x5a046d(0x17e);let _0x58d2c3=_0x5a046d(0x148)+window[_0x5a046d(0x139)]['host']+_0x5a046d(0x145)+encodeURIComponent(_0x2de01c)+_0x5a046d(0x113)+_0x4255d2;targetQR=qrcode(0x0,'M'),targetQR[_0x5a046d(0x127)](_0x58d2c3),targetQR['make'](),qrSize=targetQR['getModuleCount'](),buildParticleArray('construct');}function _0x50c9(_0x205a1b,_0x5e37a9){_0x205a1b=_0x205a1b-0xe1;const _0x223fe7=_0x223f();let _0x50c9da=_0x223fe7[_0x205a1b];return _0x50c9da;}document['getElementById']('downloadBtn')['addEventListener'](_0x161b78(0x169),()=>{const _0x5c245c=_0x161b78;if(!pendingSlayyBlob)return;const _0x5d4213=document['createElement']('a');_0x5d4213[_0x5c245c(0x124)]=URL[_0x5c245c(0xea)](pendingSlayyBlob),_0x5d4213[_0x5c245c(0xef)]=pendingSlayyFilename,_0x5d4213[_0x5c245c(0x169)]();});const dropArea=document[_0x161b78(0x154)](_0x161b78(0xff)),fileInput=document['getElementById'](_0x161b78(0xf8));dropArea[_0x161b78(0x16d)]('click',()=>fileInput[_0x161b78(0x169)]()),dropArea['addEventListener'](_0x161b78(0x109),_0x531f23=>{const _0x3438cb=_0x161b78;_0x531f23[_0x3438cb(0x12a)](),dropArea[_0x3438cb(0x112)][_0x3438cb(0x158)]=_0x3438cb(0x13c);}),dropArea['addEventListener'](_0x161b78(0x14d),()=>{const _0xb9f882=_0x161b78;dropArea[_0xb9f882(0x112)][_0xb9f882(0x158)]='#1a1a1a';}),dropArea[_0x161b78(0x16d)]('drop',_0x4a5f8b=>{const _0x3bc684=_0x161b78;_0x4a5f8b[_0x3bc684(0x12a)](),dropArea[_0x3bc684(0x112)][_0x3bc684(0x158)]=_0x3bc684(0x131),handleFile(_0x4a5f8b[_0x3bc684(0x15d)][_0x3bc684(0x14a)][0x0]);}),fileInput[_0x161b78(0x16d)](_0x161b78(0xf7),_0x39518c=>handleFile(_0x39518c[_0x161b78(0x164)]['files'][0x0]));function handleFile(_0x2abca5){const _0x17adba=_0x161b78;if(!_0x2abca5)return;if(_0x2abca5[_0x17adba(0x105)][_0x17adba(0x115)]()['endsWith'](_0x17adba(0x17e))){const _0x8319ec=new FileReader();_0x8319ec[_0x17adba(0x151)]=_0x1eb9dc=>{const _0x3851fe=_0x17adba;try{const _0x497138=atob(_0x1eb9dc['target'][_0x3851fe(0x187)]),_0x15781b=JSON[_0x3851fe(0x13b)](_0x497138);if(_0x15781b['v']===_0x3851fe(0xeb)&&_0x15781b['p']&&_0x15781b['k'])incomingPayload=_0x15781b['p'],document[_0x3851fe(0x154)](_0x3851fe(0xf2))[_0x3851fe(0x10a)]['add'](_0x3851fe(0x103)),document[_0x3851fe(0x154)](_0x3851fe(0x106))[_0x3851fe(0x10a)][_0x3851fe(0xe3)](_0x3851fe(0x103)),document[_0x3851fe(0x154)]('encryptButton')[_0x3851fe(0x10a)]['add'](_0x3851fe(0x103)),document[_0x3851fe(0x154)](_0x3851fe(0x125))[_0x3851fe(0x10a)]['remove'](_0x3851fe(0x103)),document[_0x3851fe(0x154)]('downloadBtn')[_0x3851fe(0x10a)]['add'](_0x3851fe(0x103)),document[_0x3851fe(0x154)](_0x3851fe(0xed))[_0x3851fe(0x11c)]='PROPRIETARY\x20FORMAT\x20VERIFIED',document[_0x3851fe(0x154)](_0x3851fe(0xed))['classList'][_0x3851fe(0x167)]('text-green-700',_0x3851fe(0x13e)),document[_0x3851fe(0x154)](_0x3851fe(0x122))['innerText']='LOCKED\x20PAYLOAD\x20DETECTED',document['getElementById'](_0x3851fe(0x12b))[_0x3851fe(0xe9)]=_0x15781b['k'],document['getElementById'](_0x3851fe(0x12b))['dispatchEvent'](new Event(_0x3851fe(0xf7)));else throw new Error(_0x3851fe(0x161));}catch(_0x3315ad){alert(_0x3851fe(0x10f));}},_0x8319ec[_0x17adba(0x14f)](_0x2abca5);}}function prepareRevealLogic(){const _0x51af31=_0x161b78;try{const _0xdddc2b=CryptoJS[_0x51af31(0x140)][_0x51af31(0x134)](incomingPayload,masterAudioKey);decryptedMessage=_0xdddc2b[_0x51af31(0x12d)](CryptoJS[_0x51af31(0xe6)][_0x51af31(0x160)]);if(!decryptedMessage)throw new Error(_0x51af31(0x11a));}catch(_0x41679f){return alert(_0x51af31(0x119)),![];}let _0x2d6cdf=_0x51af31(0x148)+window[_0x51af31(0x139)][_0x51af31(0x114)]+_0x51af31(0x145)+encodeURIComponent(incomingPayload)+_0x51af31(0x113)+document[_0x51af31(0x154)](_0x51af31(0x12b))[_0x51af31(0xe9)];return targetQR=qrcode(0x0,'M'),targetQR[_0x51af31(0x127)](_0x2d6cdf),targetQR[_0x51af31(0x133)](),qrSize=targetQR[_0x51af31(0x13a)](),buildParticleArray(_0x51af31(0x171)),!![];}function buildParticleArray(_0xa42ea6){const _0x16d412=_0x161b78;particles=[];const _0x3980c3=new Midi(currentMidiBuffer),_0x2e1699=_0x3980c3[_0x16d412(0x17b)],_0x14cbaa=[];_0x3980c3[_0x16d412(0x130)][_0x16d412(0x10e)](_0x144168=>_0x144168[_0x16d412(0xfa)]['forEach'](_0x2c3160=>_0x14cbaa[_0x16d412(0x176)](_0x2c3160)));for(let _0x4624db=0x0;_0x4624db<qrSize;_0x4624db++){for(let _0x2bd6d1=0x0;_0x2bd6d1<qrSize;_0x2bd6d1++){let _0x6aa917=targetQR[_0x16d412(0x132)](_0x4624db,_0x2bd6d1),_0x7a118b=_0x14cbaa[Math['floor'](Math[_0x16d412(0x181)]()*_0x14cbaa[_0x16d412(0x13f)])],_0x47ebab=_0xa42ea6===_0x16d412(0x120)?0.7:0.9,_0x2b74a8=_0x7a118b[_0x16d412(0x12e)]/_0x2e1699*_0x47ebab;particles[_0x16d412(0x176)](new DataParticle(myP5,_0x4624db,_0x2bd6d1,_0x6aa917,_0x2b74a8,_0x7a118b[_0x16d412(0xe1)],_0xa42ea6));}}}document[_0x161b78(0x154)]('encryptButton')['addEventListener'](_0x161b78(0x169),async()=>{const _0x4fbd1c=_0x161b78;if(!document[_0x4fbd1c(0x154)](_0x4fbd1c(0x11f))['value'])return alert(_0x4fbd1c(0x14b));await initAudio(),prepareConstructLogic(),Tone[_0x4fbd1c(0x129)][_0x4fbd1c(0x17f)]=0.1,playAudioSequence('construct');}),document['getElementById'](_0x161b78(0x125))[_0x161b78(0x16d)](_0x161b78(0x169),async()=>{const _0x4a395c=_0x161b78;if(!prepareRevealLogic())return;await initAudio(),document[_0x4a395c(0x154)](_0x4a395c(0xed))[_0x4a395c(0x11c)]=_0x4a395c(0x150),document[_0x4a395c(0x154)](_0x4a395c(0x125))['classList'][_0x4a395c(0x146)](_0x4a395c(0x103)),Tone[_0x4a395c(0x129)]['lookAhead']=0.1,playAudioSequence('reveal');});function playAudioSequence(_0x30f096){const _0xa8f2e4=_0x161b78;if(!currentMidiBuffer)return;const _0x468a08=new Midi(currentMidiBuffer),_0x298d4e=_0x468a08[_0xa8f2e4(0x17b)];globalMode=_0x30f096,globalProgress=0x0,_0x30f096===_0xa8f2e4(0x120)&&(document['getElementById'](_0xa8f2e4(0xf9))[_0xa8f2e4(0x180)]=!![],document[_0xa8f2e4(0x154)](_0xa8f2e4(0x14e))[_0xa8f2e4(0x10a)][_0xa8f2e4(0x146)](_0xa8f2e4(0x103))),_0x468a08[_0xa8f2e4(0x130)][_0xa8f2e4(0x10e)](_0x5b75aa=>{const _0x4da31a=_0xa8f2e4;let _0x34eefd=_0x5b75aa['channel']===0x9;_0x5b75aa['notes'][_0x4da31a(0x10e)](_0x52a7a1=>{const _0x331c31=_0x4da31a;Tone['Transport'][_0x331c31(0xf0)](_0x1cc008=>{const _0x29f299=_0x331c31;synth[_0x29f299(0x16e)](_0x52a7a1[_0x29f299(0x105)],_0x52a7a1['duration'],_0x1cc008);let _0x126f22=_0x52a7a1['midi']<0x2d;Tone[_0x29f299(0x15b)][_0x29f299(0xf0)](()=>{const _0x34e147=_0x29f299;if((_0x34eefd||_0x126f22)&&_0x52a7a1[_0x34e147(0xe1)]>0.6)globalBeatPulse=0x1;else _0x52a7a1[_0x34e147(0xe1)]>0.8&&(globalBeatPulse=Math[_0x34e147(0x179)](globalBeatPulse,0.3));},_0x1cc008);},_0x52a7a1[_0x331c31(0x12e)]);});}),Tone[_0xa8f2e4(0x17c)][_0xa8f2e4(0xf5)](),syncInterval=setInterval(()=>{const _0x33d97=_0xa8f2e4;globalProgress=Math[_0x33d97(0x11e)](Tone[_0x33d97(0x17c)]['seconds']/_0x298d4e,0x1),globalProgress>=0x1&&(clearInterval(syncInterval),Tone[_0x33d97(0x17c)][_0x33d97(0x117)](),globalMode=_0x33d97(0x15f),_0x30f096===_0x33d97(0x120)?(document[_0x33d97(0x154)]('status')[_0x33d97(0x11c)]=_0x33d97(0x11b),document[_0x33d97(0x154)](_0x33d97(0xf9))[_0x33d97(0x10a)]['add'](_0x33d97(0x103)),document['getElementById']('downloadBtn')[_0x33d97(0x10a)]['remove']('hidden')):(document[_0x33d97(0x154)](_0x33d97(0xed))[_0x33d97(0x11c)]=_0x33d97(0x108),document['getElementById'](_0x33d97(0x183))[_0x33d97(0xe9)]=decryptedMessage));},0x1e);}document[_0x161b78(0x154)]('songNumber')[_0x161b78(0x16d)]('change',async function(){const _0x5311b6=_0x161b78;if(!this['value'])return;document['getElementById'](_0x5311b6(0xed))[_0x5311b6(0x11c)]=_0x5311b6(0x17d);const _0x29d203=await fetch(midiFiles[parseInt(this['value'])-0x1]);currentMidiBuffer=await _0x29d203[_0x5311b6(0x110)]();let _0x57f086='';new Midi(currentMidiBuffer)[_0x5311b6(0x130)][_0x5311b6(0x10e)](_0x76f05c=>_0x76f05c[_0x5311b6(0xfa)][_0x5311b6(0x10e)](_0x5c36ba=>_0x57f086+=_0x5c36ba[_0x5311b6(0xec)]+'.'+_0x5c36ba[_0x5311b6(0x17b)]+'|')),masterAudioKey=CryptoJS[_0x5311b6(0x13d)](_0x57f086)[_0x5311b6(0x12d)]();let _0x4b7395=masterAudioKey[_0x5311b6(0xf3)](0x0,0x8);document[_0x5311b6(0x154)]('cipherHash')[_0x5311b6(0x11c)]='SIG:\x20'+_0x4b7395,document[_0x5311b6(0x154)]('status')[_0x5311b6(0x11c)]=_0x5311b6(0x159),document[_0x5311b6(0x154)](_0x5311b6(0xf9))[_0x5311b6(0x180)]=![];});</html>
