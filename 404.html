<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Gas-Lighting</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.1/p5.min.js"></script>
    <style>
        body, html { margin: 0; padding: 0; min-height: 100vh; background: #050505; display: flex; justify-content: center; align-items: center; flex-direction: column; color: #e5e5e5; font-family: 'Courier New', Courier, monospace; overflow-x: hidden; }
        #gameboard { margin: 20px 0; width: 95vw; max-width: 600px; aspect-ratio: 1; background-color: #000; border: 2px solid #222; position: relative; box-shadow: 0 0 20px rgba(0, 230, 118, 0.1); display: flex; align-items: center; justify-content: center; overflow: hidden; }
        #typingInput, #decryptedOutput { background-color: #0a0a0a; color: #00e676; border: 1px solid #333; padding: 1rem; width: 100%; font-family: 'Courier New', monospace; transition: border-color 0.3s; }
        #typingInput:focus { border-color: #00e676; outline: none; }
        .btn-custom { border: 1px solid #333; background-color: #151515; color: #aaa; text-transform: uppercase; letter-spacing: 1px; transition: all 0.2s; }
        .btn-custom:hover:not(:disabled) { background-color: #222; color: white; border-color: #555; }
        .btn-custom:disabled { opacity: 0.3; cursor: not-allowed; }
        .hidden { display: none; }
    </style>
</head>
<body class="p-4 relative">

    <div class="w-full max-w-2xl flex flex-col items-center gap-4">
        <h2 class="text-2xl font-bold tracking-widest text-center h-8" id="dynamicHeader">GAS-LIGHTING</h2>
        
        <div id="gameboard"></div>
        
        <div class="w-full flex justify-between items-center text-xs font-mono bg-gray-900 p-2 rounded border border-gray-800">
            <span id="status" class="text-green-500">SYSTEM IDLE</span>
            <span id="wpmDisplay" class="text-gray-500">WPM: 0</span>
        </div>

        <div class="w-full flex flex-col gap-3 bg-gray-900 p-4 rounded border border-gray-800">
            <div id="inputSection"><textarea id="typingInput" rows="2" placeholder="> ENTER_PAYLOAD..."></textarea></div>
            <div id="outputSection" class="hidden"><textarea id="decryptedOutput" rows="2" readonly placeholder="> WAITING FOR DECRYPTION..."></textarea></div>
            
            <div id="dropArea" class="w-full h-20 rounded flex flex-col items-center justify-center cursor-pointer relative bg-black border border-dashed border-gray-700 hover:border-green-500 transition-colors">
                <p id="dropText" class="text-gray-500 text-xs text-center">
                    DROP MIDI (KEY) TO LOCK<br>
                    <span class="text-gray-700 text-[10px]">- OR DROP .SLAYY FILE TO DECRYPT -</span>
                </p>
                <input type="file" id="fileInput" class="absolute inset-0 w-full h-full opacity-0 cursor-pointer" accept=".mid,.midi,.slayy,.svg" />
            </div>

            <select id="songNumber" class="w-full bg-black text-white p-2 text-xs border border-gray-700 outline-none">
                <option value="">[ SELECT PRESET KEY ]</option>
                <option value="1">Titanic Theme</option>
                <option value="2">American Pie</option>
                <option value="3">Hypnotize</option>
                <option value="4">Lost In Hollywood</option>
                <option value="5">Holding Out For A Hero</option>
                <option value="6">Severance Theme</option>
                <option value="7">Bury a Friend</option>
                <option value="8">Good Riddance</option>
                <option value="9">Tetris Theme</option>
                <option value="10">Westworld Theme</option>
                <option value="11">Interstellar Theme</option>
                <option value="12">Happy Violence</option>
                <option value="13">Dancing Queen</option>
                <option value="14">Death Note</option>
                <option value="15">Bohemian Rhapsody</option>
                <option value="16">Only Time</option>
            </select>

            <button id="encryptButton" class="btn-custom w-full py-3 mt-2 text-sm font-bold" disabled>CONSTRUCT QR & LINK</button>
            <button id="decryptButton" class="hidden btn-custom w-full py-3 mt-2 text-sm font-bold text-yellow-500 border-yellow-800 animate-pulse">DECRYPT INCOMING PAYLOAD</button>
        </div>
        
        <div class="w-full flex gap-2 hidden" id="shareButtons">
            <button id="downloadButton" class="btn-custom flex-1 py-2 text-xs bg-green-900 text-white">DOWNLOAD .SLAYY</button>
        </div>
    </div>

    <script src="https://unpkg.com/tone@latest"></script>
    <script src="https://cdn.jsdelivr.net/npm/@tonejs/midi"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcode-generator/1.4.4/qrcode.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/crypto-js.min.js"></script>

    <script>
const _0x40db5d=_0x3bb4;(function(_0x300f17,_0x3a92a1){const _0x1f0e32=_0x3bb4,_0x14d964=_0x300f17();while(!![]){try{const _0xb90a3a=parseInt(_0x1f0e32(0x255))/0x1+parseInt(_0x1f0e32(0x23a))/0x2+parseInt(_0x1f0e32(0x209))/0x3+-parseInt(_0x1f0e32(0x221))/0x4*(parseInt(_0x1f0e32(0x246))/0x5)+parseInt(_0x1f0e32(0x211))/0x6*(-parseInt(_0x1f0e32(0x1e8))/0x7)+-parseInt(_0x1f0e32(0x21f))/0x8+parseInt(_0x1f0e32(0x218))/0x9;if(_0xb90a3a===_0x3a92a1)break;else _0x14d964['push'](_0x14d964['shift']());}catch(_0xeea64c){_0x14d964['push'](_0x14d964['shift']());}}}(_0x235c,0xe12a9));const midiFiles=[_0x40db5d(0x1ff),'https://irp.cdn-website.com/cee417da/audio/Don_McLean_-_American_Pie.mid',_0x40db5d(0x21a),_0x40db5d(0x250),_0x40db5d(0x260),_0x40db5d(0x231),_0x40db5d(0x204),_0x40db5d(0x277),_0x40db5d(0x229),_0x40db5d(0x23b),_0x40db5d(0x226),_0x40db5d(0x1f3),_0x40db5d(0x1fa),'https://irp.cdn-website.com/cee417da/audio/Death_Note_-_L-s_Theme.mid',_0x40db5d(0x1f0),_0x40db5d(0x24a)];let currentMidiBuffer=null,masterAudioKey=null,qrSize=0x1d,targetQR=null,generatedShareLink='',globalProgress=0x0,globalMode=_0x40db5d(0x249),syncInterval=null,particles=[],myP5=null,globalBeatPulse=0x0,globalNoiseTime=0x0,incomingPayload=null,decryptedMessage='';class DataParticle{constructor(_0x397910,_0x14a206,_0x559728,_0x1eb3d8,_0xc7e5a2,_0x577df2,_0x3aeb19){const _0x1077c2=_0x40db5d;this['p']=_0x397910,this['isData']=_0x1eb3d8,this['activationProgress']=_0xc7e5a2,this['mode']=_0x3aeb19,this['targetR']=_0x14a206,this[_0x1077c2(0x233)]=_0x559728,this[_0x1077c2(0x21b)]=![],this[_0x1077c2(0x1f2)]=0xb4;let _0x1fbe6f=_0x397910['width']/qrSize,_0x1458fb=_0x559728*_0x1fbe6f+_0x1fbe6f/0x2,_0x5f2532=_0x14a206*_0x1fbe6f+_0x1fbe6f/0x2;if(_0x3aeb19===_0x1077c2(0x26b)){this['x']=_0x397910[_0x1077c2(0x232)]/0x2,this['y']=_0x397910[_0x1077c2(0x273)]/0x2;let _0x17db02=_0x397910[_0x1077c2(0x259)](_0x397910[_0x1077c2(0x254)]),_0xa6871f=_0x397910[_0x1077c2(0x1eb)](_0x577df2,0x0,0x1,0x2,0xc);this['vx']=_0x397910['cos'](_0x17db02)*_0xa6871f,this['vy']=_0x397910[_0x1077c2(0x272)](_0x17db02)*_0xa6871f;}else{if(_0x3aeb19==='reveal'){this['x']=_0x1458fb,this['y']=_0x5f2532;let _0x2f7724=_0x397910[_0x1077c2(0x203)](this['y']-_0x397910['height']/0x2,this['x']-_0x397910[_0x1077c2(0x232)]/0x2)+_0x397910['random'](-0.5,0.5);this['vx']=_0x397910[_0x1077c2(0x257)](_0x2f7724),this['vy']=_0x397910['sin'](_0x2f7724);}}}[_0x40db5d(0x212)](_0x4404a4,_0x59cb4b,_0x12eecb,_0x16440e){const _0x3790e5=_0x40db5d;let _0x1f1ce8=this['targetC']*_0x59cb4b+_0x59cb4b/0x2,_0x50fe3b=this['targetR']*_0x59cb4b+_0x59cb4b/0x2;if(this['mode']==='construct'){if(_0x12eecb){this['p']['fill'](this[_0x3790e5(0x244)]?[0x0,0xe6,0x76]:[0xb7,0x1c,0x1c]),this['p']['rect'](_0x1f1ce8,_0x50fe3b,_0x59cb4b,_0x59cb4b);return;}if(_0x4404a4>=this[_0x3790e5(0x268)])this[_0x3790e5(0x21b)]=!![];if(!this[_0x3790e5(0x21b)])return;let _0x578c7d=this['p'][_0x3790e5(0x1fc)](this['p'][_0x3790e5(0x1eb)](_0x4404a4,this[_0x3790e5(0x268)],0.85,0x0,0x1),0x0,0x1),_0x352dab=0.005,_0x3c8183=this['p'][_0x3790e5(0x26a)](this['x']*_0x352dab,this['y']*_0x352dab,globalNoiseTime)*this['p'][_0x3790e5(0x254)]*0x4,_0x1e35a7=this['p'][_0x3790e5(0x203)](_0x50fe3b-this['y'],_0x1f1ce8-this['x']),_0x3ed6d0=this['p'][_0x3790e5(0x239)](_0x3c8183,_0x1e35a7,_0x16440e),_0x5ba290=_0x16440e*0x8;this['vx']+=this['p']['cos'](_0x3ed6d0)*(0.5+_0x5ba290),this['vy']+=this['p'][_0x3790e5(0x272)](_0x3ed6d0)*(0.5+_0x5ba290),this['vx']*=0.8,this['vy']*=0.8;let _0xc62366=this['p'][_0x3790e5(0x216)](_0x578c7d,0x3),_0x5327ba=this['p'][_0x3790e5(0x1fc)](_0xc62366+_0x16440e*0.4,0x0,0x1);this['x']=this['p'][_0x3790e5(0x239)](this['x']+this['vx'],_0x1f1ce8,_0x5327ba),this['y']=this['p'][_0x3790e5(0x239)](this['y']+this['vy'],_0x50fe3b,_0x5327ba);let _0x431a43=this['isData']?this['p'][_0x3790e5(0x239)](0x0,0xff,_0x16440e):this['p'][_0x3790e5(0x239)](0xb7,0xff,_0x16440e),_0x2b6770=this['isData']?this['p'][_0x3790e5(0x239)](0xe6,0xff,_0x16440e):this['p']['lerp'](0x1c,0xff,_0x16440e),_0x52f361=this['isData']?this['p'][_0x3790e5(0x239)](0x76,0xff,_0x16440e):this['p'][_0x3790e5(0x239)](0x1c,0xff,_0x16440e);this['p'][_0x3790e5(0x235)](_0x431a43,_0x2b6770,_0x52f361,0xb4+_0x16440e*0x4b);let _0x4cd492=this['p']['lerp'](0x2,_0x59cb4b,_0x578c7d),_0x1e6496=_0x4cd492+_0x16440e*_0x59cb4b*1.2;this['p'][_0x3790e5(0x261)](this['x'],this['y'],_0x1e6496,_0x1e6496);}else{if(this[_0x3790e5(0x20a)]===_0x3790e5(0x210)){if(_0x4404a4>=this[_0x3790e5(0x268)])this[_0x3790e5(0x21b)]=!![];if(!this[_0x3790e5(0x21b)]){this['p']['fill'](this['isData']?[0x0,0xe6,0x76]:[0xb7,0x1c,0x1c]),this['p'][_0x3790e5(0x261)](this['x'],this['y'],_0x59cb4b,_0x59cb4b);return;}let _0x240426=_0x16440e*0xf,_0x31f560=0.005,_0x352dc4=this['p']['noise'](this['x']*_0x31f560,this['y']*_0x31f560,globalNoiseTime)*this['p'][_0x3790e5(0x254)]*0x4;this['vx']+=this['p'][_0x3790e5(0x257)](_0x352dc4)*(0.5+_0x240426),this['vy']+=this['p'][_0x3790e5(0x272)](_0x352dc4)*(0.5+_0x240426),this['vx']*=0.9,this['vy']*=0.9,this['x']+=this['vx'],this['y']+=this['vy'],this[_0x3790e5(0x1f2)]-=0x3;if(this[_0x3790e5(0x1f2)]>0x0){let _0x261893=this[_0x3790e5(0x244)]?this['p'][_0x3790e5(0x239)](0x0,0xff,_0x16440e):this['p'][_0x3790e5(0x239)](0xb7,0xff,_0x16440e),_0x5b2a63=this[_0x3790e5(0x244)]?this['p'][_0x3790e5(0x239)](0xe6,0xff,_0x16440e):this['p'][_0x3790e5(0x239)](0x1c,0xff,_0x16440e),_0x36d23d=this[_0x3790e5(0x244)]?this['p'][_0x3790e5(0x239)](0x76,0xff,_0x16440e):this['p'][_0x3790e5(0x239)](0x1c,0xff,_0x16440e);this['p']['fill'](_0x261893,_0x5b2a63,_0x36d23d,this[_0x3790e5(0x1f2)]+_0x16440e*0x4b);let _0x2c242d=_0x59cb4b+_0x16440e*_0x59cb4b*2.5;this['p']['rect'](this['x'],this['y'],_0x2c242d,_0x2c242d);}}}}}myP5=new p5(_0xe09ca0=>{const _0x3f37d8=_0x40db5d;_0xe09ca0[_0x3f37d8(0x1f9)]=()=>{const _0x3c4d37=_0x3f37d8;let _0x2d7db1=_0xe09ca0['createCanvas'](0x258,0x258);_0x2d7db1['parent'](_0x3c4d37(0x23e)),_0xe09ca0[_0x3c4d37(0x243)](),_0xe09ca0[_0x3c4d37(0x23d)](_0xe09ca0[_0x3c4d37(0x22e)]);},_0xe09ca0[_0x3f37d8(0x247)]=()=>{const _0x28c961=_0x3f37d8;globalBeatPulse*=0.7,globalNoiseTime+=0.005+globalBeatPulse*0.08;let _0x16c62c=0x5+globalBeatPulse*0x19;_0xe09ca0['background'](_0x16c62c,_0x16c62c,_0x16c62c,0x5a);let _0x2f6318=_0xe09ca0[_0x28c961(0x232)]/qrSize;if(globalMode===_0x28c961(0x26b)||globalMode===_0x28c961(0x210)||globalMode===_0x28c961(0x22d)){let _0x57d6b5=globalMode===_0x28c961(0x22d)&&globalMode!==_0x28c961(0x210);for(let _0x52a045 of particles){_0x52a045[_0x28c961(0x212)](globalProgress,_0x2f6318,_0x57d6b5,globalBeatPulse);}if(globalMode===_0x28c961(0x210)||globalMode==='done'&&document[_0x28c961(0x1f8)](_0x28c961(0x228))[_0x28c961(0x248)]['contains'](_0x28c961(0x265))){let _0x4fb510=Math[_0x28c961(0x1ec)](decryptedMessage[_0x28c961(0x237)]*globalProgress);if(globalMode===_0x28c961(0x22d))_0x4fb510=decryptedMessage[_0x28c961(0x237)];let _0x164249=decryptedMessage[_0x28c961(0x251)](0x0,_0x4fb510);_0xe09ca0[_0x28c961(0x235)](0x0,0xe6,0x76),_0xe09ca0[_0x28c961(0x230)](0x20),_0xe09ca0[_0x28c961(0x1e9)](_0xe09ca0['CENTER'],_0xe09ca0[_0x28c961(0x22e)]),_0xe09ca0['textWrap'](_0xe09ca0['WORD']),_0xe09ca0[_0x28c961(0x227)](_0x164249,_0xe09ca0[_0x28c961(0x232)]*0.1,_0xe09ca0['height']*0.1,_0xe09ca0[_0x28c961(0x232)]*0.8,_0xe09ca0['height']*0.8);}}else _0xe09ca0[_0x28c961(0x235)](0x0,0x32,0x0),_0xe09ca0[_0x28c961(0x1f6)](_0xe09ca0[_0x28c961(0x232)]/0x2,_0xe09ca0['height']/0x2,_0xe09ca0[_0x28c961(0x272)](_0xe09ca0['frameCount']*0.05)*0x32+0x64);};});function prepareConstructLogic(){const _0x298af7=_0x40db5d,_0x43c271=document[_0x298af7(0x1f8)]('typingInput')[_0x298af7(0x20f)],_0x2f0e3f=CryptoJS[_0x298af7(0x25d)][_0x298af7(0x25b)](_0x43c271,masterAudioKey)[_0x298af7(0x21c)]();generatedShareLink=window[_0x298af7(0x242)][_0x298af7(0x1f7)][_0x298af7(0x1e7)]('?')[0x0]+_0x298af7(0x275)+encodeURIComponent(_0x2f0e3f)+_0x298af7(0x238)+document[_0x298af7(0x1f8)](_0x298af7(0x222))['value'],targetQR=qrcode(0x0,'M'),targetQR['addData'](generatedShareLink),targetQR[_0x298af7(0x236)](),qrSize=targetQR[_0x298af7(0x24c)](),buildParticleArray(_0x298af7(0x26b));}function prepareRevealLogic(){const _0x187eef=_0x40db5d;try{const _0x1bfa0f=CryptoJS[_0x187eef(0x25d)][_0x187eef(0x25c)](incomingPayload,masterAudioKey);decryptedMessage=_0x1bfa0f['toString'](CryptoJS[_0x187eef(0x223)][_0x187eef(0x25e)]);if(!decryptedMessage)throw new Error(_0x187eef(0x26c));}catch(_0x390761){return alert(_0x187eef(0x267)),![];}let _0x103a9a=window[_0x187eef(0x242)][_0x187eef(0x1f7)][_0x187eef(0x1e7)]('?')[0x0]+'?payload='+encodeURIComponent(incomingPayload)+_0x187eef(0x238)+document[_0x187eef(0x1f8)]('songNumber')[_0x187eef(0x20f)];return targetQR=qrcode(0x0,'M'),targetQR['addData'](_0x103a9a),targetQR[_0x187eef(0x236)](),qrSize=targetQR[_0x187eef(0x24c)](),buildParticleArray('reveal'),!![];}function _0x235c(){const _0x587e84=['Empty\x20Payload','stop','toDestination','time','innerText','WPM:\x20','sin','height','input','?payload=','fileInput','https://irp.cdn-website.com/cee417da/audio/GoodRiddance%28TimeOfYourLife%29%283%29.mid','.svg','dataTransfer','split','3617614DEbVfO','textAlign','dispatchEvent','map','floor','files','add','decryptedOutput','https://irp.cdn-website.com/cee417da/audio/Bohemian-Rhapsody-1.mid','Error:\x20No\x20MIDI\x20notes\x20found.','opacity','https://irp.cdn-website.com/cee417da/audio/Dada_Life_-_Happy_Violence.mid','encryptButton','match','ellipse','href','getElementById','setup','https://irp.cdn-website.com/cee417da/audio/DancingQueen_(1).mid','preventDefault','constrain','PolySynth','typingInput','https://irp.cdn-website.com/cee417da/audio/My-Heart-Will-Go-On-%28From--Titanic-%29.mid','endsWith','ENCRYPTED\x20FILE\x20LOADED.\x20SELECT\x20KEY\x20TO\x20UNLOCK.','KEY\x20','atan2','https://irp.cdn-website.com/cee417da/audio/Billie_Eilish_-_bury_a_friend_%28WIP%29.mid','\x20LOCKED.','forEach','start','INVALID\x20.SLAYY\x20FILE','3083790yYAEhD','mode','channel','border-green-500','readAsText','remove','value','reveal','6JYfMuI','updateAndDraw','inputSection','Draw','SHA512','pow','isDark','7458426FhlANF','disabled','https://irp.cdn-website.com/cee417da/audio/Hypnotize_%282%29.mid','active','toString','addEventListener','min','2244296FsduLN','arrayBuffer','4UAWXHW','songNumber','enc','dragover','dropText','https://irp.cdn-website.com/cee417da/audio/CornChaseIntersteller.mid','text','decryptButton','https://irp.cdn-website.com/cee417da/audio/Tetris_-_A_Theme.mid','dropArea','onload','velocity','done','CENTER','tracks','textSize','https://irp.cdn-website.com/cee417da/audio/Severance_theme.mid','width','targetC','MESSAGE\x20FULLY\x20DECRYPTED.','fill','make','length','&key=','lerp','679954qAZkMA','https://irp.cdn-website.com/cee417da/audio/Ramin_Djawadi_-_Westworld_Theme.mid','Transport','rectMode','gameboard','seconds','drop','push','location','noStroke','isData','name','3127320dDuWRz','draw','classList','idle','https://irp.cdn-website.com/cee417da/audio/OnlyTime.mid','duration','getModuleCount','notes','click','target','https://irp.cdn-website.com/cee417da/audio/LostInHollywood.mid','substring','round','triggerAttackRelease','TWO_PI','148463pAjrFX','Synth','cos','shareButtons','random','toLowerCase','encrypt','decrypt','AES','Utf8','schedule','https://irp.cdn-website.com/cee417da/audio/Holding-Out-For-A-Hero-1.mid','rect','context','status','change','hidden','lookAhead','DECRYPTION\x20FAILED.\x20KEY\x20MISMATCH\x20OR\x20CORRUPTED\x20DATA.','activationProgress','midi','noise','construct'];_0x235c=function(){return _0x587e84;};return _0x235c();}function buildParticleArray(_0x2d1dae){const _0x534e2c=_0x40db5d;particles=[];const _0x4ef06f=new Midi(currentMidiBuffer),_0x55cfb4=_0x4ef06f[_0x534e2c(0x24b)],_0x818e1a=[];_0x4ef06f['tracks']['forEach'](_0x136348=>_0x136348['notes'][_0x534e2c(0x206)](_0x2967a3=>_0x818e1a[_0x534e2c(0x241)](_0x2967a3)));if(_0x818e1a[_0x534e2c(0x237)]===0x0)return alert(_0x534e2c(0x1f1));for(let _0x476bcd=0x0;_0x476bcd<qrSize;_0x476bcd++){for(let _0x5278e4=0x0;_0x5278e4<qrSize;_0x5278e4++){let _0x4a2a9a=targetQR[_0x534e2c(0x217)](_0x476bcd,_0x5278e4),_0x174894=_0x818e1a[Math['floor'](Math['random']()*_0x818e1a[_0x534e2c(0x237)])],_0x1120e3=_0x2d1dae===_0x534e2c(0x26b)?0.7:0.9,_0xaa6dd0=_0x174894[_0x534e2c(0x26f)]/_0x55cfb4*_0x1120e3;particles[_0x534e2c(0x241)](new DataParticle(myP5,_0x476bcd,_0x5278e4,_0x4a2a9a,_0xaa6dd0,_0x174894[_0x534e2c(0x22c)],_0x2d1dae));}}}document[_0x40db5d(0x1f8)](_0x40db5d(0x1f4))[_0x40db5d(0x21d)](_0x40db5d(0x24e),async()=>{const _0x3366c2=_0x40db5d;if(!document[_0x3366c2(0x1f8)](_0x3366c2(0x1fe))[_0x3366c2(0x20f)])return alert('ENTER\x20PAYLOAD');prepareConstructLogic(),Tone['context'][_0x3366c2(0x266)]=0.1,await Tone[_0x3366c2(0x207)](),playAudioSequence(_0x3366c2(0x26b));}),document[_0x40db5d(0x1f8)](_0x40db5d(0x228))[_0x40db5d(0x21d)](_0x40db5d(0x24e),async()=>{const _0x275855=_0x40db5d;if(!prepareRevealLogic())return;document[_0x275855(0x1f8)]('status')[_0x275855(0x270)]='DECRYPTING\x20STREAM...',Tone[_0x275855(0x262)][_0x275855(0x266)]=0.1,await Tone[_0x275855(0x207)](),playAudioSequence('reveal');});function playAudioSequence(_0x21f9bd){const _0x12abbd=_0x40db5d;if(!currentMidiBuffer)return;const _0x4cbdb7=new Midi(currentMidiBuffer),_0xc6e9f3=new Tone[(_0x12abbd(0x1fd))](Tone[_0x12abbd(0x256)],{'maxPolyphony':0x20})[_0x12abbd(0x26e)](),_0x375ee5=_0x4cbdb7[_0x12abbd(0x24b)];globalMode=_0x21f9bd,globalProgress=0x0;if(_0x21f9bd==='construct')document['getElementById'](_0x12abbd(0x1f4))[_0x12abbd(0x219)]=!![];if(_0x21f9bd===_0x12abbd(0x210))document[_0x12abbd(0x1f8)](_0x12abbd(0x228))['disabled']=!![];_0x4cbdb7['tracks'][_0x12abbd(0x206)](_0x485c3f=>{const _0x261a7a=_0x12abbd;let _0x5b2d7e=_0x485c3f[_0x261a7a(0x20b)]===0x9;_0x485c3f[_0x261a7a(0x24d)][_0x261a7a(0x206)](_0x5300e1=>{const _0x11d29d=_0x261a7a;Tone[_0x11d29d(0x23c)][_0x11d29d(0x25f)](_0x1e8197=>{const _0x3673c4=_0x11d29d;_0xc6e9f3[_0x3673c4(0x253)](_0x5300e1[_0x3673c4(0x245)],_0x5300e1[_0x3673c4(0x24b)],_0x1e8197);let _0x1f6da1=_0x5300e1[_0x3673c4(0x269)]<0x2d;Tone[_0x3673c4(0x214)]['schedule'](()=>{const _0x10ca2b=_0x3673c4;if((_0x5b2d7e||_0x1f6da1)&&_0x5300e1[_0x10ca2b(0x22c)]>0.6)globalBeatPulse=0x1;else _0x5300e1[_0x10ca2b(0x22c)]>0.8&&(globalBeatPulse=Math['max'](globalBeatPulse,0.3));},_0x1e8197);},_0x5300e1[_0x11d29d(0x26f)]);});}),Tone[_0x12abbd(0x23c)][_0x12abbd(0x207)](),syncInterval=setInterval(()=>{const _0x36a547=_0x12abbd;globalProgress=Math[_0x36a547(0x21e)](Tone[_0x36a547(0x23c)][_0x36a547(0x23f)]/_0x375ee5,0x1);if(_0x21f9bd==='reveal'){let _0x3e28bc=Math[_0x36a547(0x1ec)](decryptedMessage[_0x36a547(0x237)]*globalProgress);document[_0x36a547(0x1f8)](_0x36a547(0x1ef))[_0x36a547(0x20f)]=decryptedMessage[_0x36a547(0x251)](0x0,_0x3e28bc);}globalProgress>=0x1&&(clearInterval(syncInterval),Tone[_0x36a547(0x23c)][_0x36a547(0x26d)](),globalMode=_0x36a547(0x22d),_0x21f9bd===_0x36a547(0x26b)?(document['getElementById']('status')[_0x36a547(0x270)]='TRANSMISSION\x20READY.',document[_0x36a547(0x1f8)](_0x36a547(0x258))[_0x36a547(0x248)][_0x36a547(0x20e)](_0x36a547(0x265)),document['getElementById']('encryptButton')['disabled']=![]):(document['getElementById'](_0x36a547(0x263))[_0x36a547(0x270)]=_0x36a547(0x234),document[_0x36a547(0x1f8)](_0x36a547(0x1ef))[_0x36a547(0x20f)]=decryptedMessage,document[_0x36a547(0x1f8)]('decryptButton')['disabled']=![]));},0x1e);}document[_0x40db5d(0x1f8)](_0x40db5d(0x222))[_0x40db5d(0x21d)](_0x40db5d(0x264),async function(){const _0x438ab8=_0x40db5d;if(!this['value'])return;document[_0x438ab8(0x1f8)](_0x438ab8(0x263))[_0x438ab8(0x270)]='FETCHING\x20KEY...';const _0x27bd17=await fetch(midiFiles[parseInt(this['value'])-0x1]);currentMidiBuffer=await _0x27bd17[_0x438ab8(0x220)]();let _0x35bed7='';new Midi(currentMidiBuffer)[_0x438ab8(0x22f)]['forEach'](_0x5624bb=>_0x5624bb['notes'][_0x438ab8(0x206)](_0x23abcd=>_0x35bed7+=_0x23abcd[_0x438ab8(0x269)]+'.'+_0x23abcd[_0x438ab8(0x24b)]+'|')),masterAudioKey=CryptoJS[_0x438ab8(0x215)](_0x35bed7)[_0x438ab8(0x21c)](),document[_0x438ab8(0x1f8)](_0x438ab8(0x263))['innerText']=_0x438ab8(0x202)+masterAudioKey[_0x438ab8(0x251)](0x0,0x6)+_0x438ab8(0x205),document[_0x438ab8(0x1f8)](_0x438ab8(0x1f4))[_0x438ab8(0x219)]=![];});function _0x3bb4(_0x5340a3,_0x1b4636){_0x5340a3=_0x5340a3-0x1e7;const _0x235c44=_0x235c();let _0x3bb4db=_0x235c44[_0x5340a3];return _0x3bb4db;}const dropArea=document[_0x40db5d(0x1f8)](_0x40db5d(0x22a)),fileInput=document['getElementById'](_0x40db5d(0x276));dropArea[_0x40db5d(0x21d)](_0x40db5d(0x24e),()=>fileInput[_0x40db5d(0x24e)]()),dropArea[_0x40db5d(0x21d)](_0x40db5d(0x224),_0x11f9d1=>{const _0x25085c=_0x40db5d;_0x11f9d1[_0x25085c(0x1fb)](),dropArea[_0x25085c(0x248)][_0x25085c(0x1ee)](_0x25085c(0x20c));}),dropArea[_0x40db5d(0x21d)]('dragleave',()=>{const _0x12108b=_0x40db5d;dropArea[_0x12108b(0x248)]['remove']('border-green-500');}),dropArea[_0x40db5d(0x21d)](_0x40db5d(0x240),_0xd7a47a=>{const _0x11255e=_0x40db5d;_0xd7a47a[_0x11255e(0x1fb)](),handleFile(_0xd7a47a[_0x11255e(0x279)]['files'][0x0]);}),fileInput[_0x40db5d(0x21d)](_0x40db5d(0x264),_0xf226fc=>handleFile(_0xf226fc[_0x40db5d(0x24f)][_0x40db5d(0x1ed)][0x0]));function handleFile(_0x4beb5a){const _0x175860=_0x40db5d;if(!_0x4beb5a)return;if(_0x4beb5a[_0x175860(0x245)][_0x175860(0x25a)]()['endsWith']('.slayy')||_0x4beb5a['name'][_0x175860(0x25a)]()[_0x175860(0x200)](_0x175860(0x278))){const _0x3230b3=new FileReader();_0x3230b3[_0x175860(0x22b)]=_0x5ca5b6=>{const _0x588d6e=_0x175860,_0xedebaf=_0x5ca5b6['target']['result'],_0x7fd924=_0xedebaf[_0x588d6e(0x1f5)](/<desc id="slayy-payload">(.*?)<\/desc>/),_0x156681=_0xedebaf[_0x588d6e(0x1f5)](/<desc id="slayy-key">(.*?)<\/desc>/);_0x7fd924&&_0x7fd924[0x1]?(incomingPayload=decodeURIComponent(_0x7fd924[0x1]),document[_0x588d6e(0x1f8)](_0x588d6e(0x213))[_0x588d6e(0x248)][_0x588d6e(0x1ee)]('hidden'),document[_0x588d6e(0x1f8)]('outputSection')['classList']['remove'](_0x588d6e(0x265)),document[_0x588d6e(0x1f8)]('encryptButton')['classList']['add']('hidden'),document[_0x588d6e(0x1f8)](_0x588d6e(0x228))[_0x588d6e(0x248)][_0x588d6e(0x20e)](_0x588d6e(0x265)),document[_0x588d6e(0x1f8)](_0x588d6e(0x225))[_0x588d6e(0x270)]=_0x588d6e(0x201),_0x156681&&_0x156681[0x1]&&(document[_0x588d6e(0x1f8)](_0x588d6e(0x222))[_0x588d6e(0x20f)]=_0x156681[0x1],document[_0x588d6e(0x1f8)]('songNumber')[_0x588d6e(0x1ea)](new Event(_0x588d6e(0x264))))):alert(_0x588d6e(0x208));},_0x3230b3[_0x175860(0x20d)](_0x4beb5a);}}let typingStartTime;document[_0x40db5d(0x1f8)]('typingInput')[_0x40db5d(0x21d)](_0x40db5d(0x274),_0x4de48a=>{const _0x5296b9=_0x40db5d;if(!typingStartTime)typingStartTime=new Date();let _0x5bf094=_0x4de48a[_0x5296b9(0x24f)][_0x5296b9(0x20f)][_0x5296b9(0x237)]/0x5,_0x55dd24=(new Date()-typingStartTime)/0xea60;document[_0x5296b9(0x1f8)]('wpmDisplay')[_0x5296b9(0x270)]=_0x5296b9(0x271)+Math[_0x5296b9(0x252)](_0x5bf094/Math['max'](_0x55dd24,0.001));});
    </script>
</body>
</html>
