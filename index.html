<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Audio Cipher: Gas-Lighting Protocol</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    
    <script src="https://unpkg.com/tone@latest"></script>
    <script src="https://cdn.jsdelivr.net/npm/@tonejs/midi"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/crypto-js.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcode-generator/1.4.4/qrcode.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <style>
        body, html {
            margin: 0; padding: 0; min-height: 100vh;
            background: #050505;
            display: flex; justify-content: center; align-items: center; flex-direction: column;
            color: #e5e5e5; font-family: 'Courier New', Courier, monospace;
            overflow-x: hidden;
        }

        /* --- THE GRID (64x64) --- */
        #gameboard {
            display: grid;
            gap: 1px; 
            margin: 20px 0;
            width: 95vw; max-width: 600px; aspect-ratio: 1;
            background-color: #000;
            border: 2px solid #222;
            position: relative;
            box-shadow: 0 0 20px rgba(0, 230, 118, 0.1);
        }

        .cell {
            width: 100%; height: 100%;
            background-color: #080808;
            display: flex; align-items: center; justify-content: center;
            font-size: 10px; font-weight: bold; 
            color: transparent; 
            transition: background-color 0.1s;
        }
        
        /* VISUAL STATES */
        .cell.data-module { background-color: #00e676 !important; } /* Treble = Green */
        .cell.bg-module { background-color: #b71c1c !important; }   /* Bass = Red */
        .cell.revealed {
            background-color: #000 !important; 
            color: #00e676 !important; 
            border: 1px solid #111;
        }
        .cell.flash {
            filter: brightness(2.0);
            background-color: #fff !important;
            transform: scale(1.1);
            z-index: 10;
        }
        .cell.strobe {
            background-color: #ffffff !important;
            box-shadow: 0 0 15px #ffffff;
            z-index: 50;
        }

        /* --- UI ELEMENTS --- */
        #typingInput, #decryptedOutput {
            background-color: #0a0a0a; color: #00e676;
            border: 1px solid #333; padding: 1rem; width: 100%;
            font-family: 'Courier New', monospace;
            transition: border-color 0.3s;
        }
        #typingInput:focus { border-color: #00e676; outline: none; }

        .btn-custom {
            border: 1px solid #333; background-color: #151515; color: #aaa;
            text-transform: uppercase; letter-spacing: 1px; transition: all 0.2s;
        }
        .btn-custom:hover:not(:disabled) { background-color: #222; color: white; border-color: #555; }
        .btn-custom:disabled { opacity: 0.3; cursor: not-allowed; }

        .hidden { display: none; }
        
        /* Modal & Text FX */
        #aboutModal { backdrop-filter: blur(5px); background: rgba(0,0,0,0.85); }
        .glitch-char { display: inline-block; width: 1ch; }

        #complexity-stats {
            margin-top: 10px; font-size: 12px;
            background: #0f0f0f; padding: 10px;
            border-radius: 5px; width: 100%;
            border: 1px solid #333;
        }
        
        #moreInfo {
            max-width: 600px; margin-top: 20px;
            text-align: left; font-size: 12px; color: #888;
            background: #0a0a0a; padding: 20px; border: 1px solid #333;
        }
        #moreInfo h3 { color: #00e676; font-weight: bold; margin-bottom: 10px; }
        #moreInfo p { margin-bottom: 10px; line-height: 1.4; }
    </style>
</head>
<body class="p-4 relative">

    <button id="aboutBtn" class="absolute top-4 right-4 text-gray-500 hover:text-white border border-gray-700 rounded-full w-8 h-8 flex items-center justify-center text-xs z-50">?</button>

    <div id="aboutModal" class="fixed inset-0 z-50 hidden flex items-center justify-center p-4">
        <div class="bg-black border border-green-500 p-6 max-w-lg w-full shadow-[0_0_20px_rgba(0,255,0,0.2)] relative">
            <button id="closeModal" class="absolute top-2 right-4 text-red-500 hover:text-white">X</button>
            <h3 class="text-xl text-green-500 font-bold mb-4 border-b border-gray-800 pb-2">protocol_manifest.txt</h3>
            <div class="space-y-3 text-sm text-gray-300 font-mono leading-relaxed">
                <p><strong class="text-white">1. THE LOCK:</strong> The MIDI file acts as a symmetric key (SHA-512 Hash).</p>
                <p><strong class="text-white">2. THE CONSTRUCT:</strong> QR code is physically built by the music. High notes = Green, Low notes = Red.</p>
                <p><strong class="text-white">3. THE TRANSFER:</strong> Result is a .SLAYY SVG with embedded encrypted payload.</p>
                <p class="text-xs text-gray-500 mt-4 pt-4 border-t border-gray-900">SYSTEM STATUS: OPERATIONAL</p>
            </div>
        </div>
    </div>

    <div class="w-full max-w-2xl flex flex-col items-center gap-4">
        
        <h2 class="text-2xl font-bold tracking-widest text-center h-8 cursor-pointer" id="dynamicHeader"></h2>
        
        <div id="gameboard"></div>
        
        <div class="w-full flex justify-between items-center text-xs font-mono bg-gray-900 p-2 rounded border border-gray-800">
            <span id="status" class="text-green-500">SYSTEM IDLE</span>
            <span id="wpmDisplay" class="text-gray-500">WPM: 0</span>
        </div>

        <div class="w-full flex flex-col gap-3 bg-gray-900 p-4 rounded border border-gray-800">
            
            <div id="inputSection">
                <textarea id="typingInput" rows="2" placeholder="> ENTER_PAYLOAD..."></textarea>
            </div>

            <div id="outputSection" class="hidden">
                 <textarea id="decryptedOutput" rows="2" readonly placeholder="> WAITING FOR DECRYPTION..."></textarea>
            </div>
            
            <div id="dropArea" class="w-full h-20 rounded flex flex-col items-center justify-center cursor-pointer relative bg-black border border-dashed border-gray-700 hover:border-green-500 transition-colors">
                <p id="dropText" class="text-gray-500 text-xs text-center">
                    DROP MIDI (KEY) TO LOCK<br>
                    <span class="text-gray-700 text-[10px]">- OR DROP .SLAYY FILE TO DECRYPT -</span>
                </p>
                <input type="file" id="fileInput" class="absolute inset-0 w-full h-full opacity-0 cursor-pointer" accept=".mid,.midi,.slayy,.svg" />
            </div>

            <select id="songNumber" class="w-full bg-black text-white p-2 text-xs border border-gray-700 outline-none">
                <option value="">[ SELECT PRESET KEY ]</option>
                <option value="1">Severance Theme</option>
                <option value="2">Bury a Friend</option>
                <option value="3">Good Riddance</option>
                <option value="4">Tetris Theme</option>
                <option value="5">Westworld Theme</option>
                <option value="6">Interstellar Theme</option>
                <option value="7">Happy Violence</option>
                <option value="8">Dancing Queen</option>
                <option value="9">Death Note</option>
                <option value="10">Bohemian Rhapsody</option>
                <option value="11">Only Time</option>
            </select>

            <button id="encryptButton" class="btn-custom w-full py-3 mt-2 text-sm font-bold" disabled>
                CONSTRUCT QR & LINK
            </button>

            <button id="decryptButton" class="hidden btn-custom w-full py-3 mt-2 text-sm font-bold text-yellow-500 border-yellow-800 animate-pulse">
                DECRYPT INCOMING PAYLOAD
            </button>
        </div>

        <div id="complexity-stats" class="hidden">
            <div class="flex justify-between mb-2">
                <h3 class="text-cyan-400 font-bold">COMPLEXITY ANALYSIS</h3>
                <span class="text-xs text-gray-500">Note Density / Velocity</span>
            </div>
            <canvas id="complexityChart" width="400" height="100"></canvas>
        </div>

        <div class="w-full flex gap-2 hidden" id="shareButtons">
            <button id="downloadButton" class="btn-custom flex-1 py-2 text-xs bg-green-900 text-white">
                DOWNLOAD .SLAYY
            </button>
            <button id="copyLinkButton" class="btn-custom flex-1 py-2 text-xs bg-blue-900 text-white">
                COPY SECURE LINK
            </button>
        </div>

        <div class="w-full text-center mt-4">
            <button onclick="document.getElementById('moreInfo').classList.toggle('hidden')" class="text-xs text-gray-600 hover:text-white underline">
                [ READ PROTOCOL DETAILS ]
            </button>
        </div>

        <div id="moreInfo" class="hidden">
            <h3>CRYPTOGRAPHIC INTEGRITY</h3>
            <p><strong>1. Missing XOR Patterns:</strong> The encryption process doesn't just rely on a single pass of XOR. Each note from the MIDI track triggers transformations. Without replicating the exact sequence of musical note events, you cannot reverse these XOR operations.</p>
            <p><strong>2. AES and Data Splitting:</strong> Beyond XOR, the system involves AES encryption. You need the full key (Song Hash) to decrypt. Simply having the final text (e.g., "hey~WPM:00075") doesn't grant access.</p>
            <p><strong>3. WPM Factor:</strong> Your typing speed is factored into the initial seed. Higher WPM = higher complexity intensity.</p>
            <p><strong>4. Music as Key:</strong> The music effectively acts as a physical key. Think of the MIDI track as a non-traditional key that paints the data in a time-sensitive manner.</p>
            <p><a href="https://gaslighting.vercel.app" class="text-blue-500 hover:text-blue-300">More stenographic approach -></a></p>
        </div>

    </div>

    <script>
    const _0x1fbc65=_0x31b6;(function(_0x170d7b,_0x1463f5){const _0x52eac3=_0x31b6,_0x51b983=_0x170d7b();while(!![]){try{const _0x53cd11=parseInt(_0x52eac3(0x232))/0x1+parseInt(_0x52eac3(0x1ea))/0x2*(-parseInt(_0x52eac3(0x1ff))/0x3)+parseInt(_0x52eac3(0x18a))/0x4*(-parseInt(_0x52eac3(0x21f))/0x5)+parseInt(_0x52eac3(0x1aa))/0x6+-parseInt(_0x52eac3(0x193))/0x7+parseInt(_0x52eac3(0x20b))/0x8*(parseInt(_0x52eac3(0x1ab))/0x9)+-parseInt(_0x52eac3(0x18e))/0xa*(-parseInt(_0x52eac3(0x1b3))/0xb);if(_0x53cd11===_0x1463f5)break;else _0x51b983['push'](_0x51b983['shift']());}catch(_0x57cd6f){_0x51b983['push'](_0x51b983['shift']());}}}(_0x3743,0x61a10));const midiFiles=[_0x1fbc65(0x1f2),'https://irp.cdn-website.com/cee417da/audio/Billie_Eilish_-_bury_a_friend_%28WIP%29.mid',_0x1fbc65(0x209),_0x1fbc65(0x1d4),_0x1fbc65(0x1fe),_0x1fbc65(0x1d1),_0x1fbc65(0x1cf),_0x1fbc65(0x1d2),_0x1fbc65(0x1d7),_0x1fbc65(0x18f),_0x1fbc65(0x1e3)];function _0x31b6(_0x2bf9c2,_0x5189b9){_0x2bf9c2=_0x2bf9c2-0x187;const _0x3743de=_0x3743();let _0x31b64c=_0x3743de[_0x2bf9c2];return _0x31b64c;}let currentMidiBuffer=null,masterAudioKey=null,complexityChart=null,qrSize=0x1d,availableDataPixels=[],availableBgPixels=[],targetQR=null,generatedShareLink='',typingStartTime,typingEndTime,incomingPayload=null,decryptedMessage='',letterRevealIndex=0x0,syncInterval=null;const DEFAULT_HEADER=_0x1fbc65(0x22a),XOR_CHARS=_0x1fbc65(0x1eb);function setHeader(_0x49e58e,_0x1c3771=![]){const _0xed4a33=_0x1fbc65,_0x183ae4=document[_0xed4a33(0x18c)](_0xed4a33(0x22f));_0x183ae4[_0xed4a33(0x1b6)]='';for(let _0x41fe3b=0x0;_0x41fe3b<_0x49e58e[_0xed4a33(0x1c8)];_0x41fe3b++){const _0x2193cd=document[_0xed4a33(0x210)](_0xed4a33(0x1e2));_0x2193cd[_0xed4a33(0x1f0)]=_0x49e58e[_0x41fe3b],_0x2193cd[_0xed4a33(0x1e7)]=_0xed4a33(0x220);if(_0x1c3771)_0x2193cd[_0xed4a33(0x225)]['color']=Math['random']()>0.5?_0xed4a33(0x1b7):'#b71c1c';else _0x2193cd[_0xed4a33(0x225)][_0xed4a33(0x1a2)]=_0x41fe3b<0x3?_0xed4a33(0x1b2):_0xed4a33(0x1ac);_0x183ae4['appendChild'](_0x2193cd);}}window[_0x1fbc65(0x19f)](_0x1fbc65(0x1de),()=>{const _0x344f65=_0x1fbc65;setHeader(DEFAULT_HEADER);const _0x58dfb2=new URLSearchParams(window[_0x344f65(0x222)][_0x344f65(0x204)]),_0x33db17=_0x58dfb2[_0x344f65(0x198)](_0x344f65(0x1a1)),_0x4b44ad=_0x58dfb2[_0x344f65(0x198)](_0x344f65(0x1c9));if(_0x33db17)activateDecryptMode(_0x33db17,_0x4b44ad);setupGrid(qrSize);});function setupGrid(_0x1f165a){const _0x21dffd=_0x1fbc65,_0x169c4c=document['getElementById'](_0x21dffd(0x1db));_0x169c4c[_0x21dffd(0x1b6)]='',_0x169c4c[_0x21dffd(0x225)]['gridTemplateColumns']=_0x21dffd(0x1f6)+_0x1f165a+_0x21dffd(0x1cc);for(let _0x29f3b6=0x0;_0x29f3b6<_0x1f165a*_0x1f165a;_0x29f3b6++){const _0x459689=document[_0x21dffd(0x210)]('div');_0x459689[_0x21dffd(0x1e7)]='cell',_0x459689['id']='cell-'+_0x29f3b6,_0x169c4c['appendChild'](_0x459689);}}const inputArea=document[_0x1fbc65(0x18c)](_0x1fbc65(0x1b9));inputArea[_0x1fbc65(0x19f)](_0x1fbc65(0x200),()=>{const _0x4c2921=_0x1fbc65;if(!typingStartTime)typingStartTime=new Date();typingEndTime=new Date();const _0x1f635c=(typingEndTime-typingStartTime)/0x3e8/0x3c,_0x5da376=inputArea[_0x4c2921(0x1bf)]['length']/0x5,_0x38df2c=Math['round'](_0x5da376/Math['max'](_0x1f635c,0.001))||0x0;document[_0x4c2921(0x18c)](_0x4c2921(0x1a9))[_0x4c2921(0x21a)]=_0x4c2921(0x21e)+_0x38df2c;});function generateKeys(_0x221d0c){const _0x1bc2e5=_0x1fbc65;let _0x2fa3c6='';return _0x221d0c['tracks'][_0x1bc2e5(0x228)](_0x115558=>{const _0x2d955a=_0x1bc2e5;_0x115558['notes'][_0x2d955a(0x228)](_0x2aafe0=>{const _0x466d5c=_0x2d955a;_0x2fa3c6+=_0x2aafe0[_0x466d5c(0x22c)]+'.'+_0x2aafe0[_0x466d5c(0x1a4)][_0x466d5c(0x18b)](0x3)+'.'+_0x2aafe0[_0x466d5c(0x1e4)][_0x466d5c(0x18b)](0x3)+'|';});}),masterAudioKey=CryptoJS[_0x1bc2e5(0x20f)](_0x2fa3c6)[_0x1bc2e5(0x221)](),masterAudioKey[_0x1bc2e5(0x1c4)](0x0,0x6)[_0x1bc2e5(0x1fb)]();}function processMidiData(_0x184636,_0x301fbe){const _0x4e6391=_0x1fbc65;currentMidiBuffer=_0x184636;const _0x13fb55=new Midi(_0x184636),_0x5674b7=generateKeys(_0x13fb55);document[_0x4e6391(0x18c)](_0x4e6391(0x1ce))['innerHTML']=_0x4e6391(0x1d3)+_0x301fbe[_0x4e6391(0x1c4)](0x0,0x14)+'</span>',renderComplexityChart(_0x13fb55),document[_0x4e6391(0x18c)](_0x4e6391(0x21c))[_0x4e6391(0x19a)][_0x4e6391(0x1df)](_0x4e6391(0x1b0)),incomingPayload?(document[_0x4e6391(0x18c)](_0x4e6391(0x20c))['disabled']=![],document['getElementById'](_0x4e6391(0x1e9))[_0x4e6391(0x21a)]='KEY\x20MATCHED.\x20READY\x20TO\x20DECRYPT.'):(document['getElementById'](_0x4e6391(0x205))[_0x4e6391(0x1c2)]=![],document[_0x4e6391(0x18c)](_0x4e6391(0x1e9))[_0x4e6391(0x21a)]=_0x4e6391(0x1a3)+_0x5674b7+_0x4e6391(0x1c1));}function renderComplexityChart(_0x2c7b8c){const _0x211061=_0x1fbc65,_0x3c1f48=document[_0x211061(0x18c)](_0x211061(0x1ad))['getContext']('2d');if(complexityChart)complexityChart[_0x211061(0x202)]();const _0x3bcb44=_0x2c7b8c[_0x211061(0x1a4)],_0x3d31d1=0x14,_0x1a9854=new Array(_0x3d31d1)['fill'](0x0);_0x2c7b8c['tracks'][_0x211061(0x228)](_0x4cbb6a=>{const _0x259a94=_0x211061;_0x4cbb6a[_0x259a94(0x219)][_0x259a94(0x228)](_0x25d941=>{const _0x166297=_0x259a94,_0x1f96bd=Math['floor'](_0x25d941[_0x166297(0x1e4)]/_0x3bcb44*_0x3d31d1);if(_0x1f96bd<_0x3d31d1)_0x1a9854[_0x1f96bd]++;});}),complexityChart=new Chart(_0x3c1f48,{'type':_0x211061(0x20d),'data':{'labels':new Array(_0x3d31d1)['fill'](''),'datasets':[{'label':_0x211061(0x1a5),'data':_0x1a9854,'borderColor':_0x211061(0x1b7),'backgroundColor':_0x211061(0x1d8),'fill':!![],'tension':0.4,'pointRadius':0x0}]},'options':{'responsive':!![],'plugins':{'legend':{'display':![]}},'scales':{'x':{'display':![]},'y':{'display':![]}}}});}function prepareQRLogic(){const _0x189e58=_0x1fbc65,_0x4b8d21=document[_0x189e58(0x18c)](_0x189e58(0x1b9))[_0x189e58(0x1bf)];if(!_0x4b8d21)return alert('NO\x20PAYLOAD');const _0x3e92b5=CryptoJS['AES'][_0x189e58(0x1f4)](_0x4b8d21,masterAudioKey)[_0x189e58(0x221)](),_0x595578=window[_0x189e58(0x222)][_0x189e58(0x235)][_0x189e58(0x19c)]('?')[0x0],_0x2dd510=document[_0x189e58(0x18c)]('songNumber')[_0x189e58(0x1bf)]||_0x189e58(0x1ba),_0x212a49=encodeURIComponent(_0x3e92b5);generatedShareLink=_0x595578+_0x189e58(0x1bb)+_0x212a49+_0x189e58(0x20e)+_0x2dd510;const _0x11f8a9=qrcode(0x0,'M');_0x11f8a9['addData'](generatedShareLink),_0x11f8a9[_0x189e58(0x1af)](),targetQR=_0x11f8a9,qrSize=_0x11f8a9[_0x189e58(0x1d6)](),setupGrid(qrSize),availableDataPixels=[],availableBgPixels=[];for(let _0x523688=0x0;_0x523688<qrSize;_0x523688++){for(let _0x439902=0x0;_0x439902<qrSize;_0x439902++){const _0x48ad12=_0x523688*qrSize+_0x439902;if(_0x11f8a9['isDark'](_0x523688,_0x439902))availableDataPixels[_0x189e58(0x1f8)](_0x48ad12);else availableBgPixels[_0x189e58(0x1f8)](_0x48ad12);}}return shuffleArray(availableDataPixels),shuffleArray(availableBgPixels),_0x3e92b5;}document[_0x1fbc65(0x18c)](_0x1fbc65(0x205))[_0x1fbc65(0x19f)](_0x1fbc65(0x229),async()=>{const _0x17b44b=_0x1fbc65;prepareQRLogic(),Tone[_0x17b44b(0x188)]['lookAhead']=0.1,await Tone[_0x17b44b(0x1b1)](),playSyncedSequence('construct');}),document['getElementById']('decryptButton')['addEventListener']('click',async()=>{const _0x4c755d=_0x1fbc65;try{const _0x4c306f=CryptoJS[_0x4c755d(0x1b8)][_0x4c755d(0x1b4)](incomingPayload,masterAudioKey);decryptedMessage=_0x4c306f[_0x4c755d(0x221)](CryptoJS[_0x4c755d(0x191)][_0x4c755d(0x217)]);if(!decryptedMessage)throw new Error(_0x4c755d(0x1d0));document['getElementById'](_0x4c755d(0x1e9))['innerText']=_0x4c755d(0x195),letterRevealIndex=0x0,document[_0x4c755d(0x207)](_0x4c755d(0x196))[_0x4c755d(0x228)](_0x20e52b=>{const _0x352f09=_0x4c755d;_0x20e52b[_0x352f09(0x1e7)]='cell',_0x20e52b[_0x352f09(0x21a)]='';}),Tone[_0x4c755d(0x188)][_0x4c755d(0x1a7)]=0.1,await Tone['start'](),playSyncedSequence(_0x4c755d(0x21b));}catch(_0x25d14d){console['error'](_0x25d14d),alert(_0x4c755d(0x212));}});function playSyncedSequence(_0x2bd076){const _0xda97a1=_0x1fbc65;if(!currentMidiBuffer)return;const _0x34ec25=new Midi(currentMidiBuffer),_0x4b3070=new Tone[(_0xda97a1(0x234))](Tone[_0xda97a1(0x1cd)],{'maxPolyphony':0x20})[_0xda97a1(0x1a6)]();Tone[_0xda97a1(0x187)][_0xda97a1(0x1f7)]();if(syncInterval)clearInterval(syncInterval);const _0x53ca1e=_0x34ec25['duration'],_0x2cdb9c=_0x2bd076===_0xda97a1(0x1b5)?document[_0xda97a1(0x18c)](_0xda97a1(0x205)):document['getElementById'](_0xda97a1(0x20c));_0x2cdb9c[_0xda97a1(0x1c2)]=!![],_0x34ec25[_0xda97a1(0x21d)]['forEach'](_0x2e77f5=>{const _0x8a4e7b=_0xda97a1;_0x2e77f5[_0x8a4e7b(0x219)]['forEach'](_0x165ef9=>{const _0x5e9d5b=_0x8a4e7b;Tone[_0x5e9d5b(0x187)][_0x5e9d5b(0x233)](_0x37cb1d=>{const _0x14ea7d=_0x5e9d5b;_0x4b3070[_0x14ea7d(0x1ae)](_0x165ef9[_0x14ea7d(0x226)],_0x165ef9['duration'],_0x37cb1d);if(_0x165ef9[_0x14ea7d(0x211)]>0.7)for(let _0xc4074=0x0;_0xc4074<0x3;_0xc4074++){const _0x2daf9e=Math['floor'](Math['random']()*(qrSize*qrSize)),_0xe348f5=document[_0x14ea7d(0x18c)](_0x14ea7d(0x1c3)+_0x2daf9e);_0xe348f5&&(_0xe348f5[_0x14ea7d(0x19a)][_0x14ea7d(0x18d)](_0x14ea7d(0x22d)),setTimeout(()=>_0xe348f5[_0x14ea7d(0x19a)][_0x14ea7d(0x1df)](_0x14ea7d(0x22d)),0x64));}const _0x5d16=Array(0xc)[_0x14ea7d(0x1fc)](0x0)[_0x14ea7d(0x215)](()=>XOR_CHARS[Math['floor'](Math[_0x14ea7d(0x1fa)]()*XOR_CHARS[_0x14ea7d(0x1c8)])])[_0x14ea7d(0x203)]('');requestAnimationFrame(()=>setHeader(_0x5d16,!![]));},_0x165ef9[_0x5e9d5b(0x1e4)]);});}),Tone['Transport']['start'](),syncInterval=setInterval(()=>{const _0x3c3793=_0xda97a1,_0x1244d6=Tone[_0x3c3793(0x187)][_0x3c3793(0x1bc)],_0x268abb=Math[_0x3c3793(0x227)](_0x1244d6/_0x53ca1e,0x1);if(_0x2bd076===_0x3c3793(0x1b5)){const _0x22d61b=Math[_0x3c3793(0x22e)](availableDataPixels[_0x3c3793(0x1c8)]*_0x268abb),_0x19661e=Math[_0x3c3793(0x22e)](availableBgPixels['length']*_0x268abb);for(let _0x52ec91=0x0;_0x52ec91<_0x22d61b;_0x52ec91++){const _0x3974b8=availableDataPixels[_0x52ec91],_0x4a1648=document[_0x3c3793(0x18c)](_0x3c3793(0x1c3)+_0x3974b8);if(_0x4a1648&&!_0x4a1648['classList'][_0x3c3793(0x1e6)](_0x3c3793(0x19b)))_0x4a1648[_0x3c3793(0x19a)][_0x3c3793(0x18d)]('data-module');}for(let _0x2d8023=0x0;_0x2d8023<_0x19661e;_0x2d8023++){const _0x51d3eb=availableBgPixels[_0x2d8023],_0x180617=document[_0x3c3793(0x18c)](_0x3c3793(0x1c3)+_0x51d3eb);if(_0x180617&&!_0x180617['classList'][_0x3c3793(0x1e6)](_0x3c3793(0x1e1)))_0x180617[_0x3c3793(0x19a)]['add'](_0x3c3793(0x1e1));}}else{if(_0x2bd076===_0x3c3793(0x21b)){const _0x14c8dd=decryptedMessage[_0x3c3793(0x1c8)],_0x20eadb=Math[_0x3c3793(0x22e)](_0x14c8dd*_0x268abb);document['getElementById'](_0x3c3793(0x206))[_0x3c3793(0x1bf)]=decryptedMessage[_0x3c3793(0x1c4)](0x0,_0x20eadb);for(let _0x30ff41=0x0;_0x30ff41<_0x20eadb;_0x30ff41++){const _0xa4e4f8=_0x30ff41%(qrSize*qrSize),_0x4c8c5e=document[_0x3c3793(0x18c)](_0x3c3793(0x1c3)+_0xa4e4f8);_0x4c8c5e&&_0x4c8c5e['innerText']===''&&(_0x4c8c5e['innerText']=decryptedMessage[_0x30ff41],_0x4c8c5e['classList'][_0x3c3793(0x18d)]('revealed'));}}}_0x268abb>=0x1&&(clearInterval(syncInterval),_0x2cdb9c[_0x3c3793(0x1c2)]=![],Tone[_0x3c3793(0x187)][_0x3c3793(0x230)](),setHeader(DEFAULT_HEADER),_0x2bd076==='construct'?(document['getElementById'](_0x3c3793(0x1e9))[_0x3c3793(0x21a)]=_0x3c3793(0x1ec),document[_0x3c3793(0x18c)]('shareButtons')[_0x3c3793(0x19a)]['remove'](_0x3c3793(0x1b0)),finalizeQR()):document[_0x3c3793(0x18c)](_0x3c3793(0x1e9))[_0x3c3793(0x21a)]=_0x3c3793(0x19e));},0x1e);}function finalizeQR(){const _0x4c59d7=_0x1fbc65;availableDataPixels['forEach'](_0x159108=>document[_0x4c59d7(0x18c)]('cell-'+_0x159108)?.[_0x4c59d7(0x19a)]['add'](_0x4c59d7(0x19b))),availableBgPixels[_0x4c59d7(0x228)](_0x222a93=>document['getElementById'](_0x4c59d7(0x1c3)+_0x222a93)?.['classList']['add'](_0x4c59d7(0x1e1)));}function _0x3743(){const _0x3bd4ab=['https://irp.cdn-website.com/cee417da/audio/DancingQueen_(1).mid','KEY\x20LOADED:<br><span\x20class=\x22text-green-500\x22>','https://irp.cdn-website.com/cee417da/audio/Tetris_-_A_Theme.mid','options','getModuleCount','https://irp.cdn-website.com/cee417da/audio/Death_Note_-_L-s_Theme.mid','rgba(0,\x20230,\x20118,\x200.1)','<svg\x20xmlns=\x22http://www.w3.org/2000/svg\x22\x20width=\x22','createObjectURL','gameboard','isDark','.slayy','DOMContentLoaded','remove','download','bg-module','span','https://irp.cdn-website.com/cee417da/audio/OnlyTime.mid','time','INCOMING\x20TRANSMISSION\x20DETECTED','contains','className','Sequence\x20incomplete.','status','78090hFFLTE','010101^&|!@#$%*()_+~`={}:<>?','TRANSMISSION\x20READY.','\x22\x20fill=\x22#b71c1c\x22/>','INVALID\x20.SLAYY\x20FILE','inputSection','textContent','onload','https://irp.cdn-website.com/cee417da/audio/Severance_theme.mid','.mid','encrypt','XXXX','repeat(','cancel','push','<rect\x20width=\x22','random','toUpperCase','fill','LINK\x20COPIED\x20TO\x20CLIPBOARD','https://irp.cdn-website.com/cee417da/audio/Ramin_Djawadi_-_Westworld_Theme.mid','42XGyxYi','input','\x22\x20height=\x22','destroy','join','search','encryptButton','decryptedOutput','querySelectorAll','\x22\x20width=\x22','https://irp.cdn-website.com/cee417da/audio/GoodRiddance%28TimeOfYourLife%29%283%29.mid','</svg>','999664jMzQfa','decryptButton','line','&key=','SHA512','createElement','velocity','DECRYPTION\x20FAILED.\x20WRONG\x20SONG\x20OR\x20CORRUPT\x20DATA.','image/svg+xml;charset=utf-8','preventDefault','map','.svg','Utf8','</desc>','notes','innerText','reveal','complexity-stats','tracks','WPM:\x20','2149825yLNEhK','glitch-char','toString','location','downloadButton','match','style','name','min','forEach','click','GAS-LIGHTING','songNumber','midi','strobe','floor','dynamicHeader','stop','writeText','300279DnjZGn','schedule','PolySynth','href','Transport','context','text-yellow-500','4VelWha','toFixed','getElementById','add','9003770IUPWal','https://irp.cdn-website.com/cee417da/audio/Bohemian-Rhapsody-1.mid','<rect\x20x=\x22','enc','drop','3885070pMtMnD','dragleave','DECRYPTING\x20STREAM...','.cell','toLowerCase','get','change','classList','data-module','split','\x22\x20viewBox=\x220\x200\x20','MESSAGE\x20REVEALED','addEventListener','Generate\x20QR\x20first.','payload','color','KEY\x20','duration','Complexity','toDestination','lookAhead','endsWith','wpmDisplay','2885526OIExzk','18HGqmRX','#ffffff','complexityChart','triggerAttackRelease','make','hidden','start','#ef4444','11Iwirja','decrypt','construct','innerHTML','#00e676','AES','typingInput','CUSTOM','?payload=','seconds','border-green-500','target','value','aboutBtn','\x20LOCKED.','disabled','cell-','substring','closeModal','<desc\x20id=\x22slayy-payload\x22>','text','length','key','onclick','outputSection',',\x201fr)','Synth','dropText','https://irp.cdn-website.com/cee417da/audio/Dada_Life_-_Happy_Violence.mid','Empty\x20Decrypt','https://irp.cdn-website.com/cee417da/audio/CornChaseIntersteller.mid'];_0x3743=function(){return _0x3bd4ab;};return _0x3743();}function shuffleArray(_0x3a1cba){const _0x2de9ab=_0x1fbc65;for(let _0x48a449=_0x3a1cba[_0x2de9ab(0x1c8)]-0x1;_0x48a449>0x0;_0x48a449--){const _0x4ef8e7=Math[_0x2de9ab(0x22e)](Math[_0x2de9ab(0x1fa)]()*(_0x48a449+0x1));[_0x3a1cba[_0x48a449],_0x3a1cba[_0x4ef8e7]]=[_0x3a1cba[_0x4ef8e7],_0x3a1cba[_0x48a449]];}}function activateDecryptMode(_0x1830c8,_0x16b1bb){const _0x36b389=_0x1fbc65;incomingPayload=_0x1830c8,document[_0x36b389(0x18c)](_0x36b389(0x1ef))[_0x36b389(0x19a)][_0x36b389(0x18d)](_0x36b389(0x1b0)),document[_0x36b389(0x18c)](_0x36b389(0x1cb))[_0x36b389(0x19a)][_0x36b389(0x1df)](_0x36b389(0x1b0)),document['getElementById'](_0x36b389(0x205))[_0x36b389(0x19a)][_0x36b389(0x18d)]('hidden'),document[_0x36b389(0x18c)](_0x36b389(0x20c))['classList'][_0x36b389(0x1df)](_0x36b389(0x1b0)),document['getElementById']('shareButtons')[_0x36b389(0x19a)]['add'](_0x36b389(0x1b0));if(_0x16b1bb){const _0xfd32e4=document[_0x36b389(0x18c)](_0x36b389(0x22b));_0xfd32e4['value']=_0x16b1bb,_0xfd32e4['dispatchEvent'](new Event(_0x36b389(0x199)));}document['getElementById'](_0x36b389(0x1e9))['innerText']=_0x36b389(0x1e5);}const modal=document['getElementById']('aboutModal');document['getElementById'](_0x1fbc65(0x1c0))[_0x1fbc65(0x1ca)]=()=>modal['classList'][_0x1fbc65(0x1df)](_0x1fbc65(0x1b0)),document[_0x1fbc65(0x18c)](_0x1fbc65(0x1c5))[_0x1fbc65(0x1ca)]=()=>modal[_0x1fbc65(0x19a)][_0x1fbc65(0x18d)](_0x1fbc65(0x1b0));const dropArea=document['getElementById']('dropArea'),fileInput=document[_0x1fbc65(0x18c)]('fileInput');dropArea['addEventListener']('click',()=>fileInput['click']()),dropArea[_0x1fbc65(0x19f)]('dragover',_0x3196e6=>{const _0x9704fa=_0x1fbc65;_0x3196e6[_0x9704fa(0x214)](),dropArea[_0x9704fa(0x19a)][_0x9704fa(0x18d)](_0x9704fa(0x1bd));}),dropArea['addEventListener'](_0x1fbc65(0x194),()=>{const _0x2589e9=_0x1fbc65;dropArea[_0x2589e9(0x19a)][_0x2589e9(0x1df)]('border-green-500');}),dropArea[_0x1fbc65(0x19f)](_0x1fbc65(0x192),_0x3eb1c7=>{const _0x44f953=_0x1fbc65;_0x3eb1c7[_0x44f953(0x214)](),handleFile(_0x3eb1c7['dataTransfer']['files'][0x0]);}),fileInput['addEventListener'](_0x1fbc65(0x199),_0x51c402=>handleFile(_0x51c402[_0x1fbc65(0x1be)]['files'][0x0]));function handleFile(_0x2e4cd0){const _0x4d6825=_0x1fbc65;if(!_0x2e4cd0)return;if(_0x2e4cd0[_0x4d6825(0x226)][_0x4d6825(0x197)]()['endsWith'](_0x4d6825(0x1dd))||_0x2e4cd0[_0x4d6825(0x226)]['toLowerCase']()[_0x4d6825(0x1a8)](_0x4d6825(0x216))){const _0x12703d=new FileReader();_0x12703d[_0x4d6825(0x1f1)]=_0x4fb67c=>{const _0x1526da=_0x4d6825,_0x3986b0=_0x4fb67c[_0x1526da(0x1be)]['result'],_0x351f4a=_0x3986b0[_0x1526da(0x224)](/<desc id="slayy-payload">(.*?)<\/desc>/),_0x5287f5=_0x3986b0[_0x1526da(0x224)](/<desc id="slayy-key">(.*?)<\/desc>/);if(_0x351f4a&&_0x351f4a[0x1]){const _0x3c00d3=decodeURIComponent(_0x351f4a[0x1]),_0x4c78b0=_0x5287f5?_0x5287f5[0x1]:null;activateDecryptMode(_0x3c00d3,_0x4c78b0),document[_0x1526da(0x18c)](_0x1526da(0x1ce))[_0x1526da(0x21a)]='ENCRYPTED\x20FILE\x20LOADED.\x20DROP\x20KEY\x20TO\x20UNLOCK.',document[_0x1526da(0x18c)](_0x1526da(0x1ce))[_0x1526da(0x19a)][_0x1526da(0x18d)](_0x1526da(0x189));}else alert(_0x1526da(0x1ee));},_0x12703d['readAsText'](_0x2e4cd0);}else{if(_0x2e4cd0['name'][_0x4d6825(0x197)]()[_0x4d6825(0x1a8)](_0x4d6825(0x1f3))||_0x2e4cd0[_0x4d6825(0x226)][_0x4d6825(0x197)]()['endsWith']('.midi')){const _0x203d63=new FileReader();_0x203d63['onload']=_0x571ebc=>processMidiData(_0x571ebc[_0x4d6825(0x1be)]['result'],_0x2e4cd0[_0x4d6825(0x226)]),_0x203d63['readAsArrayBuffer'](_0x2e4cd0);}}}document[_0x1fbc65(0x18c)](_0x1fbc65(0x22b))[_0x1fbc65(0x19f)]('change',async function(){const _0x378a45=_0x1fbc65;if(!this[_0x378a45(0x1bf)])return;const _0x2c2e21=midiFiles[parseInt(this['value'])-0x1],_0x269554=await fetch(_0x2c2e21),_0x57afab=await _0x269554['arrayBuffer']();processMidiData(_0x57afab,this[_0x378a45(0x1d5)][this['selectedIndex']][_0x378a45(0x1c7)]);}),document[_0x1fbc65(0x18c)]('copyLinkButton')[_0x1fbc65(0x19f)](_0x1fbc65(0x229),()=>{const _0x3b6d2b=_0x1fbc65;if(!generatedShareLink)return alert(_0x3b6d2b(0x1a0));navigator['clipboard'][_0x3b6d2b(0x231)](generatedShareLink)['then'](()=>alert(_0x3b6d2b(0x1fd)));}),document[_0x1fbc65(0x18c)](_0x1fbc65(0x223))['addEventListener'](_0x1fbc65(0x229),()=>{const _0x44c920=_0x1fbc65;if(!targetQR)return alert(_0x44c920(0x1e8));const _0x2da0f5=0x200,_0xd6cf0f=_0x2da0f5/qrSize,_0x1bb7a5=masterAudioKey?masterAudioKey[_0x44c920(0x1c4)](0x0,0x6):_0x44c920(0x1f5),_0x22712a=encodeURIComponent(incomingPayload||CryptoJS[_0x44c920(0x1b8)][_0x44c920(0x1f4)](document[_0x44c920(0x18c)](_0x44c920(0x1b9))['value'],masterAudioKey)[_0x44c920(0x221)]()),_0x154e1f=document['getElementById'](_0x44c920(0x22b))[_0x44c920(0x1bf)]||'';let _0xb69cbc=_0x44c920(0x1d9)+_0x2da0f5+_0x44c920(0x201)+_0x2da0f5+_0x44c920(0x19d)+_0x2da0f5+'\x20'+_0x2da0f5+'\x22>';_0xb69cbc+=_0x44c920(0x1c6)+_0x22712a+_0x44c920(0x218),_0xb69cbc+='<desc\x20id=\x22slayy-key\x22>'+_0x154e1f+_0x44c920(0x218),_0xb69cbc+=_0x44c920(0x1f9)+_0x2da0f5+'\x22\x20height=\x22'+_0x2da0f5+_0x44c920(0x1ed);for(let _0x3847ff=0x0;_0x3847ff<qrSize;_0x3847ff++){for(let _0x53f2a8=0x0;_0x53f2a8<qrSize;_0x53f2a8++){if(targetQR[_0x44c920(0x1dc)](_0x3847ff,_0x53f2a8))_0xb69cbc+=_0x44c920(0x190)+_0x53f2a8*_0xd6cf0f+'\x22\x20y=\x22'+_0x3847ff*_0xd6cf0f+_0x44c920(0x208)+_0xd6cf0f+'\x22\x20height=\x22'+_0xd6cf0f+'\x22\x20fill=\x22#00e676\x22/>';}}_0xb69cbc+=_0x44c920(0x20a);const _0x5814a0=new Blob([_0xb69cbc],{'type':_0x44c920(0x213)}),_0x4d1c7d=document[_0x44c920(0x210)]('a');_0x4d1c7d[_0x44c920(0x235)]=URL[_0x44c920(0x1da)](_0x5814a0),_0x4d1c7d[_0x44c920(0x1e0)]='CIPHER_'+_0x1bb7a5+_0x44c920(0x1dd),_0x4d1c7d[_0x44c920(0x229)]();});
    </script>
</body>
</html>
