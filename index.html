<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Audio Cipher: Gas-Lighting Protocol (Strict Synchronicity & Manual Export)</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.1/p5.min.js"></script>
    <style>
        body, html { margin: 0; padding: 0; min-height: 100vh; background: #050505; display: flex; justify-content: center; align-items: center; flex-direction: column; color: #00e676; font-family: 'Courier New', Courier, monospace; overflow-x: hidden; }
        #gameboard { margin: 20px 0; width: 95vw; max-width: 600px; aspect-ratio: 1; background-color: #020202; position: relative; display: flex; align-items: center; justify-content: center; overflow: hidden; border: 1px solid #111; box-shadow: 0 0 30px rgba(0, 230, 118, 0.05); }
        
        textarea { background-color: rgba(0,255,118,0.02); color: #00e676; border: 1px solid #1a1a1a; padding: 1rem; width: 100%; font-family: 'Courier New', monospace; transition: all 0.3s; resize: none; outline: none; }
        textarea:focus { border-color: #00e676; background-color: rgba(0,255,118,0.05); box-shadow: 0 0 10px rgba(0, 230, 118, 0.1); }
        textarea::placeholder { color: #1a4d2e; }
        
        .btn-custom { border: 1px solid #1a1a1a; background-color: #0a0a0a; color: #555; text-transform: uppercase; letter-spacing: 2px; transition: all 0.2s ease-out; font-weight: bold; cursor: pointer; }
        .btn-custom:hover:not(:disabled) { background-color: #00e676; color: #000; border-color: #00e676; box-shadow: 0 0 15px rgba(0, 230, 118, 0.3); }
        .btn-custom:disabled { opacity: 0.2; cursor: not-allowed; }
        
        .btn-decrypt { border-color: #b71c1c; color: #b71c1c; }
        .btn-decrypt:hover:not(:disabled) { background-color: #b71c1c; color: #fff; border-color: #ff5252; box-shadow: 0 0 15px rgba(183, 28, 28, 0.5); }

        .btn-download { border-color: #0284c7; color: #0284c7; }
        .btn-download:hover:not(:disabled) { background-color: #0284c7; color: #fff; border-color: #38bdf8; box-shadow: 0 0 15px rgba(2, 132, 199, 0.5); }

        select { background-color: #050505; color: #00e676; border: 1px solid #1a1a1a; padding: 0.75rem; width: 100%; outline: none; font-family: monospace; cursor: pointer; appearance: none; text-align: center; }
        select:hover { border-color: #333; }

        #dropArea { border: 1px dashed #1a1a1a; transition: all 0.3s; }
        #dropArea:hover { border-color: #00e676; background-color: rgba(0,255,118,0.02); }

        .hidden { display: none !important; }
        .terminal-header { letter-spacing: 4px; border-bottom: 1px solid #111; padding-bottom: 10px; margin-bottom: 10px; width: 100%; text-align: center; }
    </style>
</head>
<body class="p-6 relative">

    <div class="w-full max-w-2xl flex flex-col items-center gap-2">
        <h2 class="text-xl font-bold text-gray-500 terminal-header">
            [ GAS-LIGHTING <span class="text-green-500">PROTOCOL</span> ]
        </h2>
        
        <div class="w-full flex justify-between items-center text-[10px] tracking-widest text-gray-600 px-2">
            <span id="status" class="text-green-700 font-bold">SYSTEM READY</span>
            <span id="cipherHash">SIG: NONE</span>
        </div>

        <div id="gameboard"></div>

        <div class="w-full flex flex-col gap-4">
            <div id="inputSection">
                <textarea id="typingInput" rows="2" placeholder="> INJECT_PAYLOAD..."></textarea>
            </div>
            <div id="outputSection" class="hidden">
                <textarea id="decryptedOutput" rows="2" readonly placeholder="> AWAITING ACOUSTIC REVEAL..."></textarea>
            </div>
            
            <div class="flex gap-4 w-full h-14">
                <select id="songNumber" class="flex-1 text-xs">
                    <option value="">[ SELECT HARMONIC KEY ]</option>
                    <option value="1">Titanic Theme</option>
                    <option value="2">American Pie</option>
                    <option value="3">Hypnotize</option>
                    <option value="4">Lost In Hollywood</option>
                    <option value="5">Holding Out For A Hero</option>
                    <option value="6">Severance Theme</option>
                    <option value="7">Bury a Friend</option>
                    <option value="8">Good Riddance</option>
                    <option value="9">Tetris Theme</option>
                    <option value="10">Westworld Theme</option>
                    <option value="11">Interstellar Theme</option>
                    <option value="12">Happy Violence</option>
                    <option value="13">Dancing Queen</option>
                    <option value="14">Death Note</option>
                    <option value="15">Bohemian Rhapsody</option>
                    <option value="16">Only Time</option>
                </select>

                <div id="dropArea" class="flex-1 rounded flex items-center justify-center cursor-pointer relative">
                    <p id="dropText" class="text-gray-600 text-[10px] tracking-widest text-center">
                        DROP .SLAYY FILE HERE
                    </p>
                    <input type="file" id="fileInput" class="absolute inset-0 w-full h-full opacity-0 cursor-pointer" accept=".slayy" />
                </div>
            </div>

            <button id="encryptButton" class="btn-custom w-full py-4 text-xs" disabled>INITIATE CONSTRUCT SEQUENCE</button>
            <button id="downloadBtn" class="hidden btn-custom btn-download w-full py-4 text-xs">DOWNLOAD .SLAYY FILE</button>
            <button id="decryptButton" class="hidden btn-custom btn-decrypt w-full py-4 text-xs">TRIGGER ACOUSTIC REVEAL</button>
        </div>
    </div>

    <script src="https://unpkg.com/tone@latest"></script>
    <script src="https://cdn.jsdelivr.net/npm/@tonejs/midi"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcode-generator/1.4.4/qrcode.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/crypto-js.min.js"></script>

    <script>
const _0x17d9e5=_0x1fbc;(function(_0x367896,_0x3f0745){const _0x5c16cb=_0x1fbc,_0x5d64ed=_0x367896();while(!![]){try{const _0x5b38da=-parseInt(_0x5c16cb(0x144))/0x1*(-parseInt(_0x5c16cb(0x1c2))/0x2)+parseInt(_0x5c16cb(0x16b))/0x3+-parseInt(_0x5c16cb(0x122))/0x4*(-parseInt(_0x5c16cb(0x1b5))/0x5)+parseInt(_0x5c16cb(0x18e))/0x6*(parseInt(_0x5c16cb(0x19a))/0x7)+parseInt(_0x5c16cb(0x1cb))/0x8+-parseInt(_0x5c16cb(0x18f))/0x9*(-parseInt(_0x5c16cb(0x171))/0xa)+parseInt(_0x5c16cb(0x158))/0xb*(-parseInt(_0x5c16cb(0x195))/0xc);if(_0x5b38da===_0x3f0745)break;else _0x5d64ed['push'](_0x5d64ed['shift']());}catch(_0xdab5d6){_0x5d64ed['push'](_0x5d64ed['shift']());}}}(_0x1144,0xef1ab));const midiFiles=[_0x17d9e5(0x179),_0x17d9e5(0x1b9),_0x17d9e5(0x17c),'https://irp.cdn-website.com/cee417da/audio/LostInHollywood.mid',_0x17d9e5(0x126),_0x17d9e5(0x13c),'https://irp.cdn-website.com/cee417da/audio/Billie_Eilish_-_bury_a_friend_%28WIP%29.mid','https://irp.cdn-website.com/cee417da/audio/GoodRiddance%28TimeOfYourLife%29%283%29.mid',_0x17d9e5(0x143),'https://irp.cdn-website.com/cee417da/audio/Ramin_Djawadi_-_Westworld_Theme.mid',_0x17d9e5(0x133),_0x17d9e5(0x15d),'https://irp.cdn-website.com/cee417da/audio/DancingQueen_(1).mid',_0x17d9e5(0x14d),_0x17d9e5(0x180),'https://irp.cdn-website.com/cee417da/audio/OnlyTime.mid'];let currentMidiBuffer=null,masterAudioKey=null,qrSize=0x1d,targetQR=null,globalProgress=0x0,globalMode='idle',syncInterval=null,particles=[],myP5=null,globalBeatPulse=0x0,globalNoiseTime=0x0,incomingPayload=null,decryptedMessage='',meter,synth,isAudioInit=![],pendingSlayyBlob=null,pendingSlayyFilename='';async function initAudio(){const _0xb9bed8=_0x17d9e5;if(isAudioInit)return;await Tone[_0xb9bed8(0x161)](),meter=new Tone[(_0xb9bed8(0x19c))](),synth=new Tone[(_0xb9bed8(0x135))](Tone[_0xb9bed8(0x157)],{'maxPolyphony':0x20})[_0xb9bed8(0x12e)](meter)['toDestination'](),isAudioInit=!![];}window[_0x17d9e5(0x151)](_0x17d9e5(0x134),()=>{const _0x18d9e5=_0x17d9e5,_0x55aa23=new URLSearchParams(window['location'][_0x18d9e5(0x147)]),_0x402158=_0x55aa23['get'](_0x18d9e5(0x1a4)),_0x288b95=_0x55aa23['get'](_0x18d9e5(0x155));_0x402158&&_0x288b95&&(incomingPayload=decodeURIComponent(_0x402158),document[_0x18d9e5(0x13f)](_0x18d9e5(0x15e))[_0x18d9e5(0x1c1)][_0x18d9e5(0x14a)](_0x18d9e5(0x1bb)),document[_0x18d9e5(0x13f)]('outputSection')[_0x18d9e5(0x1c1)][_0x18d9e5(0x192)]('hidden'),document['getElementById'](_0x18d9e5(0x198))[_0x18d9e5(0x1c1)]['add'](_0x18d9e5(0x1bb)),document[_0x18d9e5(0x13f)]('decryptButton')[_0x18d9e5(0x1c1)][_0x18d9e5(0x192)](_0x18d9e5(0x1bb)),document[_0x18d9e5(0x13f)](_0x18d9e5(0x146))['innerText']=_0x18d9e5(0x197),document[_0x18d9e5(0x13f)](_0x18d9e5(0x190))['innerText']=_0x18d9e5(0x187),document[_0x18d9e5(0x13f)](_0x18d9e5(0x137))[_0x18d9e5(0x174)]=_0x288b95,document[_0x18d9e5(0x13f)](_0x18d9e5(0x137))['dispatchEvent'](new Event(_0x18d9e5(0x189))));});class DataParticle{constructor(_0x14598e,_0x448ed8,_0x41a946,_0x4dde55,_0x495d66,_0x342dcf,_0x54bc82){const _0x51998c=_0x17d9e5;this['p']=_0x14598e,this['isData']=_0x4dde55,this[_0x51998c(0x125)]=_0x495d66,this['mode']=_0x54bc82,this[_0x51998c(0x17b)]=_0x448ed8,this[_0x51998c(0x1b1)]=_0x41a946,this[_0x51998c(0x1ac)]=![],this['opacity']=0xb4;let _0x18d2d0=_0x14598e[_0x51998c(0x1ad)]/qrSize,_0x13a8f1=_0x41a946*_0x18d2d0+_0x18d2d0/0x2,_0x35976f=_0x448ed8*_0x18d2d0+_0x18d2d0/0x2;if(_0x54bc82==='construct'){this['x']=_0x14598e['width']/0x2,this['y']=_0x14598e[_0x51998c(0x154)]/0x2;let _0x13d364=_0x14598e[_0x51998c(0x156)](_0x14598e[_0x51998c(0x178)]),_0x199b66=_0x14598e[_0x51998c(0x12f)](_0x342dcf,0x0,0x1,0x2,0xc);this['vx']=_0x14598e['cos'](_0x13d364)*_0x199b66,this['vy']=_0x14598e[_0x51998c(0x1c7)](_0x13d364)*_0x199b66;}else{if(_0x54bc82==='reveal'){this['x']=_0x13a8f1,this['y']=_0x35976f;let _0x15d95d=_0x14598e[_0x51998c(0x123)](this['y']-_0x14598e[_0x51998c(0x154)]/0x2,this['x']-_0x14598e[_0x51998c(0x1ad)]/0x2)+_0x14598e['random'](-0.5,0.5);this['vx']=_0x14598e[_0x51998c(0x18a)](_0x15d95d),this['vy']=_0x14598e[_0x51998c(0x1c7)](_0x15d95d);}}}[_0x17d9e5(0x1bf)](_0x2e199d,_0x5cd17e,_0x62c14c,_0x3d4c38){const _0x1803d0=_0x17d9e5;let _0x3b2882=this[_0x1803d0(0x1b1)]*_0x5cd17e+_0x5cd17e/0x2,_0x2573c0=this['targetR']*_0x5cd17e+_0x5cd17e/0x2;if(this[_0x1803d0(0x170)]===_0x1803d0(0x18b)){if(_0x62c14c){this['p'][_0x1803d0(0x127)](this['isData']?[0x0,0xe6,0x76]:[0xb7,0x1c,0x1c]),this['p'][_0x1803d0(0x152)](_0x3b2882,_0x2573c0,_0x5cd17e,_0x5cd17e);return;}if(_0x2e199d>=this[_0x1803d0(0x125)])this[_0x1803d0(0x1ac)]=!![];if(!this['active'])return;let _0x4205b4=this['p']['constrain'](this['p'][_0x1803d0(0x12f)](_0x2e199d,this[_0x1803d0(0x125)],0.85,0x0,0x1),0x0,0x1),_0x468315=0.005,_0x1d0219=this['p'][_0x1803d0(0x1aa)](this['x']*_0x468315,this['y']*_0x468315,globalNoiseTime)*this['p'][_0x1803d0(0x178)]*0x4,_0x418ce5=this['p'][_0x1803d0(0x123)](_0x2573c0-this['y'],_0x3b2882-this['x']),_0x57ae35=this['p'][_0x1803d0(0x1be)](_0x1d0219,_0x418ce5,_0x3d4c38),_0x233d51=_0x3d4c38*0x8;this['vx']+=this['p'][_0x1803d0(0x18a)](_0x57ae35)*(0.5+_0x233d51),this['vy']+=this['p'][_0x1803d0(0x1c7)](_0x57ae35)*(0.5+_0x233d51),this['vx']*=0.8,this['vy']*=0.8;let _0x415ef7=this['p']['pow'](_0x4205b4,0x3),_0xc41ce8=this['p']['constrain'](_0x415ef7+_0x3d4c38*0.4,0x0,0x1);this['x']=this['p'][_0x1803d0(0x1be)](this['x']+this['vx'],_0x3b2882,_0xc41ce8),this['y']=this['p'][_0x1803d0(0x1be)](this['y']+this['vy'],_0x2573c0,_0xc41ce8);let _0x450399=this[_0x1803d0(0x1b6)]?this['p']['lerp'](0x0,0xff,_0x3d4c38):this['p']['lerp'](0xb7,0xff,_0x3d4c38),_0x141c3a=this['isData']?this['p']['lerp'](0xe6,0xff,_0x3d4c38):this['p'][_0x1803d0(0x1be)](0x1c,0xff,_0x3d4c38),_0x51f575=this[_0x1803d0(0x1b6)]?this['p'][_0x1803d0(0x1be)](0x76,0xff,_0x3d4c38):this['p'][_0x1803d0(0x1be)](0x1c,0xff,_0x3d4c38);this['p']['fill'](_0x450399,_0x141c3a,_0x51f575,0xb4+_0x3d4c38*0x4b);let _0x29bedc=this['p'][_0x1803d0(0x1be)](0x2,_0x5cd17e,_0x4205b4),_0x351583=_0x29bedc+_0x3d4c38*_0x5cd17e*1.2;this['p'][_0x1803d0(0x152)](this['x'],this['y'],_0x351583,_0x351583);}else{if(this[_0x1803d0(0x170)]===_0x1803d0(0x15a)){if(_0x2e199d>=this[_0x1803d0(0x125)])this['active']=!![];if(!this[_0x1803d0(0x1ac)]){this['p']['fill'](this[_0x1803d0(0x1b6)]?[0x0,0xe6,0x76]:[0xb7,0x1c,0x1c]),this['p'][_0x1803d0(0x152)](this['x'],this['y'],_0x5cd17e,_0x5cd17e);return;}let _0x5b9c78=_0x3d4c38*0xf,_0x5806bb=0.005,_0x1210b3=this['p'][_0x1803d0(0x1aa)](this['x']*_0x5806bb,this['y']*_0x5806bb,globalNoiseTime)*this['p']['TWO_PI']*0x4;this['vx']+=this['p'][_0x1803d0(0x18a)](_0x1210b3)*(0.5+_0x5b9c78),this['vy']+=this['p'][_0x1803d0(0x1c7)](_0x1210b3)*(0.5+_0x5b9c78),this['vx']*=0.9,this['vy']*=0.9,this['x']+=this['vx'],this['y']+=this['vy'],this[_0x1803d0(0x128)]-=0x3;if(this[_0x1803d0(0x128)]>0x0){let _0x2c0122=this[_0x1803d0(0x1b6)]?this['p'][_0x1803d0(0x1be)](0x0,0xff,_0x3d4c38):this['p'][_0x1803d0(0x1be)](0xb7,0xff,_0x3d4c38),_0x59d191=this[_0x1803d0(0x1b6)]?this['p']['lerp'](0xe6,0xff,_0x3d4c38):this['p'][_0x1803d0(0x1be)](0x1c,0xff,_0x3d4c38),_0xf97b5d=this['isData']?this['p']['lerp'](0x76,0xff,_0x3d4c38):this['p'][_0x1803d0(0x1be)](0x1c,0xff,_0x3d4c38);this['p'][_0x1803d0(0x127)](_0x2c0122,_0x59d191,_0xf97b5d,this[_0x1803d0(0x128)]+_0x3d4c38*0x4b);let _0x7abe4a=_0x5cd17e+_0x3d4c38*_0x5cd17e*2.5;this['p'][_0x1803d0(0x152)](this['x'],this['y'],_0x7abe4a,_0x7abe4a);}}}}}myP5=new p5(_0x512b6f=>{const _0x358f1b=_0x17d9e5;_0x512b6f[_0x358f1b(0x166)]=()=>{const _0x1e698f=_0x358f1b;let _0x301e79=_0x512b6f[_0x1e698f(0x13a)](0x258,0x258);_0x301e79[_0x1e698f(0x1b2)](_0x1e698f(0x163)),_0x512b6f['noStroke'](),_0x512b6f[_0x1e698f(0x196)](_0x512b6f[_0x1e698f(0x177)]),_0x512b6f[_0x1e698f(0x16a)](_0x512b6f[_0x1e698f(0x177)],_0x512b6f[_0x1e698f(0x177)]);},_0x512b6f[_0x358f1b(0x13b)]=()=>{const _0x1d8074=_0x358f1b;globalBeatPulse*=0.7,globalNoiseTime+=0.005+globalBeatPulse*0.08;let _0x47af49=0x5+globalBeatPulse*0x19;_0x512b6f[_0x1d8074(0x12a)](_0x47af49,_0x47af49,_0x47af49,0x5a);let _0x102bd3=_0x512b6f[_0x1d8074(0x1ad)]/qrSize;if(globalMode==='construct'||globalMode===_0x1d8074(0x15a)||globalMode==='done'){let _0x57af89=globalMode===_0x1d8074(0x191)&&globalMode!==_0x1d8074(0x15a);for(let _0x33f041 of particles){_0x33f041[_0x1d8074(0x1bf)](globalProgress,_0x102bd3,_0x57af89,globalBeatPulse);}if((globalMode===_0x1d8074(0x15a)||globalMode===_0x1d8074(0x191))&&isAudioInit){let _0x3edf1e=meter[_0x1d8074(0x138)]();if(!isFinite(_0x3edf1e))_0x3edf1e=-0x64;let _0x2eda2d=_0x512b6f['map'](_0x3edf1e,-0x1e,-0x5,0x0,0xff,!![]);if(globalMode===_0x1d8074(0x191))_0x2eda2d=0xff;if(globalMode!==_0x1d8074(0x191)){_0x512b6f['noFill']();let _0x513d01=_0x512b6f[_0x1d8074(0x12f)](_0x3edf1e,-0x28,0x0,0x64,_0x512b6f[_0x1d8074(0x1ad)]*0.8,!![]);_0x512b6f['stroke'](0x0,0xe6,0x76,_0x2eda2d*0.5),_0x512b6f[_0x1d8074(0x12c)](0x2+globalBeatPulse*0xf),_0x512b6f['ellipse'](_0x512b6f[_0x1d8074(0x1ad)]/0x2,_0x512b6f[_0x1d8074(0x154)]/0x2,_0x513d01),_0x512b6f[_0x1d8074(0x1b0)]();}let _0x3207df=Math[_0x1d8074(0x176)](decryptedMessage['length']*globalProgress);if(globalMode===_0x1d8074(0x191))_0x3207df=decryptedMessage[_0x1d8074(0x18d)];let _0x26486f=decryptedMessage[_0x1d8074(0x1bc)](0x0,_0x3207df),_0x3b24ab='';if(globalMode!==_0x1d8074(0x191)&&_0x3207df<decryptedMessage['length']){const _0x458ca1=_0x1d8074(0x1bd);let _0x16364f=Math[_0x1d8074(0x130)](0x3,decryptedMessage[_0x1d8074(0x18d)]-_0x3207df);for(let _0x23c9a3=0x0;_0x23c9a3<_0x16364f;_0x23c9a3++){_0x3b24ab+=_0x458ca1[Math[_0x1d8074(0x176)](Math[_0x1d8074(0x156)]()*_0x458ca1[_0x1d8074(0x18d)])];}}let _0x42e034=_0x26486f+_0x3b24ab;_0x512b6f[_0x1d8074(0x1cc)](0x20),_0x512b6f[_0x1d8074(0x131)](_0x512b6f[_0x1d8074(0x132)]),_0x42e034[_0x1d8074(0x18d)]>0x0&&(_0x512b6f[_0x1d8074(0x127)](0x0,0x0,0x0,_0x2eda2d*0.85),_0x512b6f[_0x1d8074(0x152)](_0x512b6f[_0x1d8074(0x1ad)]/0x2,_0x512b6f[_0x1d8074(0x154)]/0x2,_0x512b6f[_0x1d8074(0x1ad)]*0.85,_0x512b6f[_0x1d8074(0x154)]*0.85)),globalBeatPulse>0.6&&globalMode!==_0x1d8074(0x191)&&(_0x512b6f['fill'](0xff,0x0,0x0,_0x2eda2d*0.8),_0x512b6f['text'](_0x42e034,_0x512b6f[_0x1d8074(0x1ad)]/0x2-0x4,_0x512b6f['height']/0x2,_0x512b6f['width']*0.8,_0x512b6f[_0x1d8074(0x154)]*0.8),_0x512b6f['fill'](0x0,0x64,0xff,_0x2eda2d*0.8),_0x512b6f[_0x1d8074(0x16c)](_0x42e034,_0x512b6f[_0x1d8074(0x1ad)]/0x2+0x4,_0x512b6f['height']/0x2,_0x512b6f['width']*0.8,_0x512b6f['height']*0.8)),_0x512b6f['fill'](0x0,0xe6,0x76,_0x2eda2d),_0x512b6f[_0x1d8074(0x16c)](_0x42e034,_0x512b6f[_0x1d8074(0x1ad)]/0x2,_0x512b6f[_0x1d8074(0x154)]/0x2,_0x512b6f[_0x1d8074(0x1ad)]*0.8,_0x512b6f[_0x1d8074(0x154)]*0.8);}}else _0x512b6f[_0x1d8074(0x1c4)](),_0x512b6f['stroke'](0x0,0xe6,0x76,0x32),_0x512b6f[_0x1d8074(0x12c)](0x1),_0x512b6f[_0x1d8074(0x1c8)](_0x512b6f[_0x1d8074(0x1ad)]/0x2,_0x512b6f[_0x1d8074(0x154)]/0x2,_0x512b6f[_0x1d8074(0x1c7)](_0x512b6f[_0x1d8074(0x183)]*0.05)*0x32+0x96),_0x512b6f['fill'](0x0,0xe6,0x76,0x14),_0x512b6f[_0x1d8074(0x1b0)](),_0x512b6f['ellipse'](_0x512b6f[_0x1d8074(0x1ad)]/0x2,_0x512b6f['height']/0x2,0x14);};});function prepareConstructLogic(){const _0x29669d=_0x17d9e5,_0x36b864=document[_0x29669d(0x13f)](_0x29669d(0x17d))[_0x29669d(0x174)],_0x49af93=document[_0x29669d(0x13f)](_0x29669d(0x137))[_0x29669d(0x174)],_0x4c3aff=CryptoJS[_0x29669d(0x13e)][_0x29669d(0x1a1)](_0x36b864,masterAudioKey)['toString'](),_0x44e457={'v':'2.0','k':_0x49af93,'p':_0x4c3aff},_0x10d5ce=btoa(JSON[_0x29669d(0x150)](_0x44e457));pendingSlayyBlob=new Blob([_0x10d5ce],{'type':'application/octet-stream'}),pendingSlayyFilename=_0x29669d(0x181)+masterAudioKey[_0x29669d(0x1bc)](0x0,0x6)+_0x29669d(0x14b);let _0x455fc6=_0x29669d(0x153)+window[_0x29669d(0x1a0)][_0x29669d(0x1b4)]+_0x29669d(0x139)+encodeURIComponent(_0x4c3aff)+_0x29669d(0x1a7)+_0x49af93;targetQR=qrcode(0x0,'M'),targetQR['addData'](_0x455fc6),targetQR[_0x29669d(0x1ba)](),qrSize=targetQR[_0x29669d(0x194)](),buildParticleArray(_0x29669d(0x18b));}document['getElementById'](_0x17d9e5(0x142))[_0x17d9e5(0x151)](_0x17d9e5(0x185),()=>{const _0x1e36d7=_0x17d9e5;if(!pendingSlayyBlob)return;const _0x1237cd=document[_0x1e36d7(0x1a8)]('a');_0x1237cd[_0x1e36d7(0x17f)]=URL[_0x1e36d7(0x1a2)](pendingSlayyBlob),_0x1237cd[_0x1e36d7(0x184)]=pendingSlayyFilename,_0x1237cd[_0x1e36d7(0x185)]();});function _0x1144(){const _0x5bab53=['fill','opacity','velocity','background','push','strokeWeight','LOCKED\x20PAYLOAD\x20DETECTED','connect','map','min','textWrap','WORD','https://irp.cdn-website.com/cee417da/audio/CornChaseIntersteller.mid','DOMContentLoaded','PolySynth','Empty\x20Payload','songNumber','getValue','/?payload=','createCanvas','draw','https://irp.cdn-website.com/cee417da/audio/Severance_theme.mid','replace','AES','getElementById','schedule','Invalid\x20Version','downloadBtn','https://irp.cdn-website.com/cee417da/audio/Tetris_-_A_Theme.mid','53ptVUVs','channel','status','search','ENTER\x20PAYLOAD','files','add','.slayy','fileInput','https://irp.cdn-website.com/cee417da/audio/Death_Note_-_L-s_Theme.mid','outputSection','style','stringify','addEventListener','rect','https://','height','key','random','Synth','10155838BPxFrQ','Transport','reveal','toString','dispatchEvent','https://irp.cdn-website.com/cee417da/audio/Dada_Life_-_Happy_Violence.mid','inputSection','dataTransfer','#1a1a1a','start','SIG:\x20','gameboard','Utf8','lookAhead','setup','name','duration','#00e676','textAlign','1207389bIZoEg','text','forEach','DECRYPTION\x20COMPLETE','ERROR:\x20CORRUPTED\x20OR\x20INVALID\x20.SLAYY\x20FORMAT.','mode','3032120aBsmhp','seconds','?payload=','value','onload','floor','CENTER','TWO_PI','https://irp.cdn-website.com/cee417da/audio/My-Heart-Will-Go-On-%28From--Titanic-%29.mid','endsWith','targetR','https://irp.cdn-website.com/cee417da/audio/Hypnotize_%282%29.mid','typingInput','midi','href','https://irp.cdn-website.com/cee417da/audio/Bohemian-Rhapsody-1.mid','CIPHER_','decryptedOutput','frameCount','download','click','Draw','EXTERNAL\x20SCAN\x20LINKED','drop','change','cos','construct','preventDefault','length','642RTJaib','27UrxALK','dropText','done','remove','PROPRIETARY\x20FORMAT\x20VERIFIED','getModuleCount','48VVBmut','rectMode','QR\x20SIGNAL\x20DETECTED','encryptButton','tracks','57974VJUClV','TRANSMISSION\x20LOCKED','Meter','dragover','notes','ACOUSTIC\x20SYNC:\x20ACTIVE','location','encrypt','createObjectURL','disabled','payload','target','context','&key=','createElement','pathname','noise','innerText','active','width','borderColor','parse','noStroke','targetC','parent','DECRYPTION\x20FAILED.\x20KEY\x20MISMATCH.','host','65wdrPnz','isData','decrypt','FETCHING\x20HARMONIC\x20KEY...','https://irp.cdn-website.com/cee417da/audio/Don_McLean_-_American_Pie.mid','make','hidden','substring','010101^&|!@#$%*()_+~`={}:<>?','lerp','updateAndDraw','decryptButton','classList','13742EdDNbC','stop','noFill','isDark','text-green-700','sin','ellipse','time','HARMONIC\x20KEY\x20ALIGNED','9548880xNATZo','textSize','toLowerCase','281956pEJqTD','atan2','text-yellow-500','activationProgress','https://irp.cdn-website.com/cee417da/audio/Holding-Out-For-A-Hero-1.mid'];_0x1144=function(){return _0x5bab53;};return _0x1144();}const dropArea=document['getElementById']('dropArea'),fileInput=document[_0x17d9e5(0x13f)](_0x17d9e5(0x14c));dropArea['addEventListener'](_0x17d9e5(0x185),()=>fileInput[_0x17d9e5(0x185)]()),dropArea[_0x17d9e5(0x151)](_0x17d9e5(0x19d),_0x93122=>{const _0x1eebb0=_0x17d9e5;_0x93122[_0x1eebb0(0x18c)](),dropArea['style'][_0x1eebb0(0x1ae)]=_0x1eebb0(0x169);}),dropArea[_0x17d9e5(0x151)]('dragleave',()=>{const _0x40b296=_0x17d9e5;dropArea[_0x40b296(0x14f)]['borderColor']=_0x40b296(0x160);}),dropArea[_0x17d9e5(0x151)](_0x17d9e5(0x188),_0x502603=>{const _0x33c2a4=_0x17d9e5;_0x502603['preventDefault'](),dropArea[_0x33c2a4(0x14f)]['borderColor']=_0x33c2a4(0x160),handleFile(_0x502603[_0x33c2a4(0x15f)]['files'][0x0]);}),fileInput[_0x17d9e5(0x151)](_0x17d9e5(0x189),_0x2b7272=>handleFile(_0x2b7272[_0x17d9e5(0x1a5)][_0x17d9e5(0x149)][0x0]));function handleFile(_0x3c1672){const _0xff6c19=_0x17d9e5;if(!_0x3c1672)return;if(_0x3c1672[_0xff6c19(0x167)][_0xff6c19(0x1cd)]()[_0xff6c19(0x17a)]('.slayy')){const _0x1959b0=new FileReader();_0x1959b0[_0xff6c19(0x175)]=_0x19184f=>{const _0xb0db99=_0xff6c19;try{const _0x125157=atob(_0x19184f[_0xb0db99(0x1a5)]['result']),_0x1f5e19=JSON[_0xb0db99(0x1af)](_0x125157);if(_0x1f5e19['v']==='2.0'&&_0x1f5e19['p']&&_0x1f5e19['k'])incomingPayload=_0x1f5e19['p'],document[_0xb0db99(0x13f)](_0xb0db99(0x15e))[_0xb0db99(0x1c1)]['add'](_0xb0db99(0x1bb)),document[_0xb0db99(0x13f)](_0xb0db99(0x14e))[_0xb0db99(0x1c1)]['remove'](_0xb0db99(0x1bb)),document['getElementById']('encryptButton')['classList'][_0xb0db99(0x14a)](_0xb0db99(0x1bb)),document[_0xb0db99(0x13f)]('decryptButton')[_0xb0db99(0x1c1)][_0xb0db99(0x192)](_0xb0db99(0x1bb)),document[_0xb0db99(0x13f)]('downloadBtn')[_0xb0db99(0x1c1)][_0xb0db99(0x14a)]('hidden'),document['getElementById']('status')[_0xb0db99(0x1ab)]=_0xb0db99(0x193),document[_0xb0db99(0x13f)](_0xb0db99(0x146))[_0xb0db99(0x1c1)][_0xb0db99(0x13d)](_0xb0db99(0x1c6),_0xb0db99(0x124)),document['getElementById'](_0xb0db99(0x190))['innerText']=_0xb0db99(0x12d),document[_0xb0db99(0x13f)](_0xb0db99(0x137))[_0xb0db99(0x174)]=_0x1f5e19['k'],document[_0xb0db99(0x13f)](_0xb0db99(0x137))[_0xb0db99(0x15c)](new Event(_0xb0db99(0x189)));else throw new Error(_0xb0db99(0x141));}catch(_0x5dad1e){alert(_0xb0db99(0x16f));}},_0x1959b0['readAsText'](_0x3c1672);}}function prepareRevealLogic(){const _0x222dcf=_0x17d9e5;try{const _0x37bfa9=CryptoJS[_0x222dcf(0x13e)][_0x222dcf(0x1b7)](incomingPayload,masterAudioKey);decryptedMessage=_0x37bfa9['toString'](CryptoJS['enc'][_0x222dcf(0x164)]);if(!decryptedMessage)throw new Error(_0x222dcf(0x136));}catch(_0x1e7e61){return alert(_0x222dcf(0x1b3)),![];}let _0x130911=''+window[_0x222dcf(0x1a0)]['origin']+window[_0x222dcf(0x1a0)][_0x222dcf(0x1a9)]+_0x222dcf(0x173)+encodeURIComponent(encryptedData)+_0x222dcf(0x1a7)+songId;return targetQR=qrcode(0x0,'M'),targetQR['addData'](_0x130911),targetQR[_0x222dcf(0x1ba)](),qrSize=targetQR['getModuleCount'](),buildParticleArray(_0x222dcf(0x15a)),!![];}function buildParticleArray(_0x19b1f5){const _0x2ebe29=_0x17d9e5;particles=[];const _0x30253d=new Midi(currentMidiBuffer),_0x51244d=_0x30253d['duration'],_0x74ce22=[];_0x30253d[_0x2ebe29(0x199)][_0x2ebe29(0x16d)](_0x224676=>_0x224676[_0x2ebe29(0x19e)][_0x2ebe29(0x16d)](_0x5707c0=>_0x74ce22[_0x2ebe29(0x12b)](_0x5707c0)));for(let _0x18f864=0x0;_0x18f864<qrSize;_0x18f864++){for(let _0x3aa606=0x0;_0x3aa606<qrSize;_0x3aa606++){let _0x211654=targetQR[_0x2ebe29(0x1c5)](_0x18f864,_0x3aa606),_0x3ea2ce=_0x74ce22[Math[_0x2ebe29(0x176)](Math[_0x2ebe29(0x156)]()*_0x74ce22[_0x2ebe29(0x18d)])],_0x6ad47a=_0x19b1f5===_0x2ebe29(0x18b)?0.7:0.9,_0x803630=_0x3ea2ce[_0x2ebe29(0x1c9)]/_0x51244d*_0x6ad47a;particles['push'](new DataParticle(myP5,_0x18f864,_0x3aa606,_0x211654,_0x803630,_0x3ea2ce[_0x2ebe29(0x129)],_0x19b1f5));}}}document[_0x17d9e5(0x13f)](_0x17d9e5(0x198))[_0x17d9e5(0x151)](_0x17d9e5(0x185),async()=>{const _0x2aa051=_0x17d9e5;if(!document[_0x2aa051(0x13f)](_0x2aa051(0x17d))[_0x2aa051(0x174)])return alert(_0x2aa051(0x148));await initAudio(),prepareConstructLogic(),Tone[_0x2aa051(0x1a6)][_0x2aa051(0x165)]=0.1,playAudioSequence(_0x2aa051(0x18b));}),document['getElementById']('decryptButton')[_0x17d9e5(0x151)](_0x17d9e5(0x185),async()=>{const _0x496db2=_0x17d9e5;if(!prepareRevealLogic())return;await initAudio(),document[_0x496db2(0x13f)](_0x496db2(0x146))[_0x496db2(0x1ab)]=_0x496db2(0x19f),document[_0x496db2(0x13f)](_0x496db2(0x1c0))[_0x496db2(0x1c1)][_0x496db2(0x14a)]('hidden'),Tone['context']['lookAhead']=0.1,playAudioSequence(_0x496db2(0x15a));});function _0x1fbc(_0x24150c,_0x51c5ea){_0x24150c=_0x24150c-0x122;const _0x114479=_0x1144();let _0x1fbc68=_0x114479[_0x24150c];return _0x1fbc68;}function playAudioSequence(_0x30f3af){const _0x2d9c66=_0x17d9e5;if(!currentMidiBuffer)return;const _0x55d7ed=new Midi(currentMidiBuffer),_0x4deec9=_0x55d7ed[_0x2d9c66(0x168)];globalMode=_0x30f3af,globalProgress=0x0,_0x30f3af===_0x2d9c66(0x18b)&&(document[_0x2d9c66(0x13f)](_0x2d9c66(0x198))[_0x2d9c66(0x1a3)]=!![],document[_0x2d9c66(0x13f)]('downloadBtn')['classList']['add'](_0x2d9c66(0x1bb))),_0x55d7ed[_0x2d9c66(0x199)][_0x2d9c66(0x16d)](_0x28032b=>{const _0xe6616e=_0x2d9c66;let _0x456cde=_0x28032b[_0xe6616e(0x145)]===0x9;_0x28032b[_0xe6616e(0x19e)]['forEach'](_0x3510bc=>{const _0x127e7a=_0xe6616e;Tone[_0x127e7a(0x159)]['schedule'](_0x2f1b0b=>{const _0x447cba=_0x127e7a;synth['triggerAttackRelease'](_0x3510bc[_0x447cba(0x167)],_0x3510bc[_0x447cba(0x168)],_0x2f1b0b);let _0x195c51=_0x3510bc[_0x447cba(0x17e)]<0x2d;Tone[_0x447cba(0x186)][_0x447cba(0x140)](()=>{const _0x9ec688=_0x447cba;if((_0x456cde||_0x195c51)&&_0x3510bc[_0x9ec688(0x129)]>0.6)globalBeatPulse=0x1;else _0x3510bc[_0x9ec688(0x129)]>0.8&&(globalBeatPulse=Math['max'](globalBeatPulse,0.3));},_0x2f1b0b);},_0x3510bc[_0x127e7a(0x1c9)]);});}),Tone[_0x2d9c66(0x159)][_0x2d9c66(0x161)](),syncInterval=setInterval(()=>{const _0x24dcc1=_0x2d9c66;globalProgress=Math[_0x24dcc1(0x130)](Tone['Transport'][_0x24dcc1(0x172)]/_0x4deec9,0x1),globalProgress>=0x1&&(clearInterval(syncInterval),Tone[_0x24dcc1(0x159)][_0x24dcc1(0x1c3)](),globalMode=_0x24dcc1(0x191),_0x30f3af===_0x24dcc1(0x18b)?(document[_0x24dcc1(0x13f)](_0x24dcc1(0x146))[_0x24dcc1(0x1ab)]=_0x24dcc1(0x19b),document[_0x24dcc1(0x13f)](_0x24dcc1(0x198))[_0x24dcc1(0x1c1)][_0x24dcc1(0x14a)](_0x24dcc1(0x1bb)),document['getElementById'](_0x24dcc1(0x142))['classList'][_0x24dcc1(0x192)](_0x24dcc1(0x1bb))):(document[_0x24dcc1(0x13f)](_0x24dcc1(0x146))['innerText']=_0x24dcc1(0x16e),document[_0x24dcc1(0x13f)](_0x24dcc1(0x182))[_0x24dcc1(0x174)]=decryptedMessage));},0x1e);}document[_0x17d9e5(0x13f)](_0x17d9e5(0x137))[_0x17d9e5(0x151)]('change',async function(){const _0x18bff6=_0x17d9e5;if(!this[_0x18bff6(0x174)])return;document[_0x18bff6(0x13f)](_0x18bff6(0x146))[_0x18bff6(0x1ab)]=_0x18bff6(0x1b8);const _0x1c66e4=await fetch(midiFiles[parseInt(this[_0x18bff6(0x174)])-0x1]);currentMidiBuffer=await _0x1c66e4['arrayBuffer']();let _0x3c493c='';new Midi(currentMidiBuffer)['tracks'][_0x18bff6(0x16d)](_0x431b8f=>_0x431b8f[_0x18bff6(0x19e)]['forEach'](_0x106f55=>_0x3c493c+=_0x106f55[_0x18bff6(0x17e)]+'.'+_0x106f55['duration']+'|')),masterAudioKey=CryptoJS['SHA512'](_0x3c493c)[_0x18bff6(0x15b)]();let _0x3c998e=masterAudioKey[_0x18bff6(0x1bc)](0x0,0x8);document[_0x18bff6(0x13f)]('cipherHash')[_0x18bff6(0x1ab)]=_0x18bff6(0x162)+_0x3c998e,document[_0x18bff6(0x13f)](_0x18bff6(0x146))[_0x18bff6(0x1ab)]=_0x18bff6(0x1ca),document[_0x18bff6(0x13f)](_0x18bff6(0x198))[_0x18bff6(0x1a3)]=![];});
    </script>
</body>
</html>
